# SW Engineering CSC648-848-05 Summer 2025, T05: Parking Space Marketplace

# Milestone 5 V1

## Project/Application Title: Parking Space Marketplace

**Date:** August 5th 2025

**Link to site:** `http://52.52.40.129:3000/`

---

### History Table

| Milestone | Version | Date 07/31/2025|
|-----------|---------|----------------|
| M5        | V1      | August 5th 2025|
| M4        | V2      | August 5th 2025|
| M4        | V1      | July 31st 2025 |
| M3        | V2      | July 31st 2025 |
| M3        | V1      | July 22nd 2025 |
| M2        | V2      | July 22nd 2025 |
| M2        | V1      | July 3rd 2025  |
| M1        | V2      | June 23rd 2025 |
| M1        | V1      | June 17th 2025 |

---

## Team

| Student | Full Name             | SFSU Email             | GitHub Username      | Discord Username      | Role(s)                      |
|:-------:|:---------------------:|:----------------------:|:--------------------:|:---------------------:|:-----------------------------:|
|    #1   | Stella Parker         | <sparker11@sfsu.edu>     | @whoIsStella         | latchkeykid           | Team-lead / Backend-Lead/GitHub Master/Scrum Master |
|    #3   | Nathaniel Moreno      | <nmoreno@sfsu.edu>       | @NateM03             | ba_daniels            | Database Administrator        |
|    #4   | Fatma Almosawi        | <falmosawi@sfsu.edu>     | @fatma-al            | fatma.almosawi        | Scrum Master                  |
|    #5   | Krishna Shenoy        | <920875953@sfsu.edu>     | @krishs44            | krishnashenoy_71520   | Technical Writer              |
|    #6   | Juan Daniel Ramirez   | <jramirez9@sfsu.edu>     | @JuanDanielRamirez   | juanramirez_05991     | Frontend Lead                 |
|    #7   | Julianna Embalzado    | <eembalzado@mail.sfsu.edu> | julianna-embalzado | jejemon6201           | Software Architect            |

---

### Table of Contents

1. [Product Summary](#product-summary)
2. [Milestone Documents](#milestone-documents)

- [M1 Documentation](#m1)
- [M2 Documentation](#m2)
- [M3 Documentation](#m3)
- [M4 Documentation](#m4)

3. [Final List of Contributions](#final-list-of-contributions)
4. [Lessons Learned](#lessons-learned)

---

## Product Summary

### Product Name

ParkSpace

### Final Priority 1 and 2 Requirements

#### Renter

**Searching and Viewing Parking Spaces**

Renters have a lot of freedom in searching a space. They can sort by date, time, price, etc, or they can use the interactive map to find the perfect parking spot. Moreover, renters can learn more about a specific parking spot, such as photos, the owner's rules, and any unique features regarding the spot.

**Booking and Payment**

Just like searching a space, ParkSpace gives the renter a lot of fredom in booking a space. Renters can decide when and for how long they want to rent out a parking space. They have multiple ways to pay for the sapce, and they have the right to cancel and refund, as long as they follow the refund policy that is. Speaking of payment methods, renters can enjoy paying for their spaces through saved payment methods. This, of course, means that they can update or delete payment methods from their account.

**Managing Bookings and Reviews**

When it comes to services provided by people to people, there is always a risk involved. However, renters can report any issues that arise with us, and can infrom their fellow renters by leaving a review. In addition, renters will be able to look at previous bookings and upcomming ones, along with being able to extend their booking, with the owner's permission, or course.

**Profile and Communication**

To best ensure safety and security, ParkSpace lets renters make an account. They can personalize it adding photos and a few words about themselves. More importantly, renters' accounts will serve as their way to communicate with the owner about the rented space, along with reminders about bockings and payment alerts, all of which can be altered to their preference.

#### Owner

**Listing and Managing Parking Spaces**

ParkSpace makes sure renters have as much freedom as possible for renting a space, and the same mentality is applied to owners. Owners can decide their own prices, their availablity, add rules regarding the space, and provide bonuses like photos and amenities to better sell their spot. And if they ever change their mind, they can update existing spaces, or delete it entirely.

**Managing Bookings and Earnings**

With an account, owners are able to see and manage all their parking spaces, their earnings, and recieve notifications regarding their space. In addition, owners can update their banking information and can accept or decline incoming book requests. And just like renters, owners are free to change their account information whenever they wish.

#### Admin

**User and Content Management**

While we at ParkSpace hope that all transactions run smoothly, we understand that problems can, and will, arise, which is why we have administrators at the ready. These adinistrators will monitor all user accounts, making sure that all transactions end well. And if a transactions goes wrong, our administrators can remove any inappropriate content or reviews, or, if worst comes to pass, suspend or ban accounts.

**Payments and Analytics**

Administrators also have a responsiblity to handle the money side of ParkSpace. Specifically, they will manage all transactions, issuing refunds or platform fees if needed. They will also monitor the perfomances of the site, along with all the financial reports and usage metrics.

**Platform Settings and Policies**

Administrators are also in charge of the more legal topics of ParkSpace, such as updating our privacy policy, terms and conditions, and will send notifications to all users when needed.

#### 4. All Users

**General Features**

As mentioned before, all users will need an account to experience all that ParkSpace can offer. This means that their accounts will be protected, and that any user can reset their password, delete their account, manage their notifications, view the websites policies, and if any confusion arises, seek help at our help center.

### Unique Features

To stand out from our competitors, ParkSpace has a variety of features that are do not exist, or are very limited, in other services. ParkSpace offers
direct messaging between the renter and the owner so that they have the option to discuss in more deatail about the arrangement. And of course, ParkSpace also has the necessary tools to ensure that these messages do not turn violent or problematic, such as have a report feature. ParkSpace also offers flexible scheduling for owners, and by extension, renters. Owners can set their availability to any time, any day of the week. Moreover, they have the opportunity to change their schedule, assuming it does not interfere with existing arrangements. This also means that renters are free to claim a sport for as long as they wish, assuming the space is available. And if any vehicle related problems occur, such as a flat tire, ParkSpace lets renters request assitance and call some service providers like Allstate. Finally, ParkSpace offers a discount to college students, as they are the group that stand to gain the most out of this service.

### Delpoyment URL

`http://52.52.40.129:3000/`

---

## Milestone Documents

### M1

# SW Engineering CSC648-848-05 Summer 2025, T05: Parking Space Marketplace

# Milestone 1 V2

## Project/Application Title: Parking Space Marketplace

**Date:** June 23rd 2025

---

### History Table

| Milestone | Version | Date           |
|-----------|---------|----------------|
| M1        | V2      | June 23rd 2025 |
| M1        | V1      | June 17th 2025 |

---

### Table of Contents

1. [Executive Summary](#executive-summary)  
2. [Team](#team)  
3. [Main Use Cases](#main-use-cases)  
4. [Main Data Items and Entities](#main-data-items-and-entities)  
5. [Functional Requirements](#functional-requirements)  
6. [Non-Functional Requirements](#non-functional-requirements)  
7. [Competitive Analysis](#competitive-analysis)  
8. [Checklist](#checklist)  
9. [High-Level System Architecture and Technologies Used](#high-level-system-architecture-and-technologies-used)  
10. [List of Team Contributions](#list-of-team-contributions)  

---

## Team

| Student | Full Name             | SFSU Email             | GitHub Username      | Discord Username      | Role(s)                      |
|:-------:|:---------------------:|:----------------------:|:--------------------:|:---------------------:|:-----------------------------:|
|    #1   | Stella Parker         | <sparker11@sfsu.edu>     | @whoIsStella         | latchkeykid           | Team-lead / Backend-Lead/GitHub Master/Scrum Master |
|    #3   | Nathaniel Moreno      | <nmoreno@sfsu.edu>       | @NateM03             | ba_daniels            | Database Administrator        |
|    #4   | Fatma Almosawi        | <falmosawi@sfsu.edu>     | @fatma-al            | fatma.almosawi        | Scrum Master                  |
|    #5   | Krishna Shenoy        | <920875953@sfsu.edu>     | @krishs44            | krishnashenoy_71520   | Technical Writer              |
|    #6   | Juan Daniel Ramirez   | <jramirez9@sfsu.edu>     | @JuanDanielRamirez   | juanramirez_05991     | Frontend Lead                 |
|    #7   | Julianna Embalzado    | <eembalzado@mail.sfsu.edu> | julianna-embalzado | jejemon6201           | Software Architect            |

---

## Executive Summary

Parking in cities is a daily headache for millions, wasting time, fuel, and patience as drivers circle blocks searching for spots. Meanwhile, countless private parking spaces sit empty and unused. Parking Space Marketplace bridges this gap by creating a vibrant, community driven platform where anyone can list or discover parking spaces for short term use.

With Parking Space Marketplace, drivers can easily find available parking in their area, while property owners earn extra income by sharing their unused spots. Our platform offers reliable search, transparent pricing, and a user friendly experience that builds trust between drivers and space owners. By enabling better use of existing spaces, Parking Space Marketplace makes parking smarter, more affordable, and more convenient for everyone.

---

## Main Use Cases

### Use Case 1: List a Parking Space

Owner uploads info, sets price, and posts availability. If the info is incomplete, app prompts for missing data.

**Actors:** Macy (apartment resident), Parking Space Marketspace (System)

**Assumptions:**

- Macy has a phone and access to the internet.
- Macy has parking space she does not use often.
- Macy has a parking space that intrests renters.

**Use Case:**
Macy has been living in the city for a while now. As such, she has found her way to move around without the need for a car. Recently, Macy decided to get rid of some junk she had in her parking garage but is unsure of what to fill the space with. She does not want to leave it empty, as she believes that would be a waste of space. She surfs the web, looking for ideas or inspiration as to what to fill the garage with. During this search, Macy comes across the Parking Space Marketspace. Out of curiosity, she looks around the site and quickly finds out that she can sell her garage to people. She considers how many places of interest are near her home, specifically a park that is usually filled with lots of people, and so she decides to register her spot into the website. Not only has Macy figured out what to do with the garage, but she can earn some money on the side as well. The application makes it easy for her to list her parking space and change the price and when it is available for renters.

**Benefits:**

- Macy can set her price for the parking spot, allowing her to earn more money.
- Macy can decide when her garage is available, which allows her to plan ahead.
- Macy can if needed update her listing, making sure her parking space will be looked at for customers wanting to rent.

**Use Case Modeling:**

![Use Case 1 Diagram](../../images/UseCase1.png)

### Use Case 2: List a Parking Space

Renter enters location, desired time. System shows nearby available spots on a map. If no spaces found, System suggests adjusting filters or dates.

**Actors:** Bob (student), Josh (Bob’s friend), Parking Space Marketspace (System)

**Assumptions:**

- Bob has access to a phone and owns a car.
- Bob is aware of when and where he wants the desired parking place.
- Bob is able to pay for this service.

**Use Case:**
Bob has made his class schedule for next semester. He has classes every Tuesday and Thursday starting with Biology at 11:00 am. While Bob is excited to take Biology, he is also worried that there will not be any parking spaces left at that time. Bob asks his friend John for help. John suggests arriving at an earlier time to claim a parking spot, but Bob rejects the idea. He cannot arrive at the campus at an earlier time. Josh then suggests that Bob could take the class at another time to make sure he does not arrive late, but Bob explains that all other class times are full. Josh thinks for a moment before recommending Parking Space Marketplace. Bob decides to take a look at the website, despite never hearing about it. After making an account with his student email and filling in the location of his university, the site offers him a 50% student discount and shows him some nearby spaces available. He notices one that is pretty close to his Biology class and checks to see when he can claim the space. Luckily, he can reserve the spot up until his last class and for the entire semester. Bob can now look forward to taking Biology, especially with a guarantee that he will not be late due to parking.

**Benefits:**

- Bob can reserve a spot in advance and for how long, allowing him to plan ahead.
- Bob can choose a location to find nearby spots, giving him more freedom.
- Bob will save time as well as minimize the stress that comes with finding a parking space.
- Bob can find a parking space in his price range.

**Use Case Modeling:**

![Use Case 2 Diagram](../../images/UseCase2.png)

### Use Case 3

Renter selects a spot, reviews details, and confirms booking. If payment fails, System prompts renter to retry or choose a different method.

**Actors:** Richard (Customer/User), Parking Space MarketSpace (System)

**Assumptions:**

- Richard is a busy lawyer who frequently travels to the city for work.
- Richard already uses the Parking Space MarketSpace app.
- Richard relies on his default card payment for his payment method.

**Use Case:**
Richard is a busy lawyer who travels frequently to the city for work. He already uses the Parking Space Marketspace app to find parking spots in the city, as it is hard for him to find a parking spot that is next to his office building. To give Richard peace of mind when booking the parking space, he has already saved his card as a default card payment every time he books a parking space. Usually, it gives him a confirmation that the spot has been successfully booked. Unfortunately, Richard didn’t realize that the default card payment he has booked has already been expired. When Richard booked the usual parking spot that he usually goes for, the app gave him a notification that his card has already been expired so it cannot process the transaction. It prompted Richard to put a new card on file or to try it again. To make it easier for Richard, the app gave him an option to capture the image of his card, and it would fill up his information or he could write his information down manually. After choosing the first option, the app later on asked if he would like this new card to be his default card payment on file in which Richard opted in for. After fixing the payment issue, Richard proceeded to book his usual parking spot successfully giving him confirmation regarding the reservation as well as the information for the parking space to answer any questions the customer could have.

**Benefits:**

- Richard has security that his payment went through, and his booking was successful with a confirmation
- Efficiency and convenience with booking because of the saved card payment information.
- Richard has security and peace of mind regarding why the issue arises with his payment method.

**Use Case Modeling:**

![Use Case 3 Diagram](../../images/UseCase3.png)

### Use Case 4: Cancel a Booking

Renter or owner cancels before start time; system notifies the other party. If cancellation is too close to start, app enforces cancellation policy.

**Actors:** Leo (spot/owner), Derek (customer/renter), Parking Space Marketspace (System)

**Assumptions:**

- Either party can choose to cancel before the reservation start time
- The cancellation policies are in place and have been agreed upon.

**Use Case:**
Leo just realizes that he will not be able to use his driveway for the upcoming reservation as it will be inaccessible due to construction going on. He needs to cancel the reservation before the time that it starts, so he logs into the app and finds his active booking to cancel it. Derek the spot renter is immediately notified and receives a full refund since he was not the one to cancel and the cancellation happened 24 hours in advance. The app then provides Derek with suggested alternative parking spaces around the same area.

**Benefits:**

- Provides flexibility for both parties/users
- Handles refunds and re-bookings to make it simple and easy
- Nofications will be sent to both of the parties for communication.

**Use Case Modeling:**

![Use Case 4 Diagram](../../images/UseCase4.png)

### Use Case 5

Renter and owner communicate about arrival or specific instructions. If inappropriate messages are detected, admin is alerted.

**Actors:**  Koa (Renter), Milo (Owner), Parking Space MarketSpace (Company/admin)

**Assumptions:**

- Koa rented Milo’s parking space from 1:30 - 2:30 PM on the Parking Space MarketSpace (System)
- Milo has been using Parking Space MarketSpace to rent out his parking space and his parking space is in a popular area, as it is in the city and close to businesses that people usually go to
- Users have the option to message each other.
- The app has language moderation to make sure users have a postive expierence.

**Use Case:**
Koa is visiting the city to run some errands and found that Milo’s spot is close to the places that he needs to go to. Koa saw that the only time that his space is available is from 1:30 - 2:30 PM. Koa booked for that time slot but decided to come early to hopefully finish his errands earlier without telling Milo. Koa also received specific instructions to arrive on the time slot booked. Koa came at around 12:00 PM to the parking spot only to find out that it has been taken by another car. Koa contacted Milo saying he is here for the 1:30 - 2:30 parking spot appointment. Milo told Koa that the parking spot has already been booked by someone from 11:00 AM - 1:00 PM. Koa insisted that Milo can accommodate his situation since he came a long way from home to get into the city. Milo insisted that he cannot kick out guest who are already in the spot and who have booked it for that time slot. This made Koa mad since Milo could not accommodate to his requests and started cussing Milo out in the chat. Koa even made death threats towards Milo and said he is going to sue Milo for wasting his time. The admin got alerted to the inappropriate message that Koa was saying in the chat and gave a warning on Koa’s side that inappropriate messages are not allowed and could lead to his account being banned or suspended. On Milo’s side it gave him an option to block Koa and cancel his reservation. Milo not wanting to deal with Koa, he opted to block Koa and cancel his reservation. After Milo selected this option, Koa isn’t allowed to message Milo anymore as well as a notification saying his reservation has been canceled. There will be evidence about this interaction.

**Benefits:**

- Koa received specific instructions regarding the reservation, including the time slot of when his reservation starts. Koa has the privilege to message Milo regarding the reservation and vice versa, allowing issues to be addressed directly with the owner.
- Koa is given the chance to correct his behavior, letting him realize that his behavior is inappropriate towards Milo because of the warning given to him and the consequences given to him.
- Milo has the protection to not tolerate the inappropriate behavior that Koa has displayed by giving him an option to block and cancel Koa’s reservation.

**Use Case Modeling:**

![Use Case 5 Diagram](../../images/UseCase5.png)

### Use Case 6: Owner Reviews bookings and Earnings

Owner checks upcoming/past bookings and income dashboard. If dashboard fails to load, app displays support contact.

**Actors:** Olivia (Owner), Parking Space Marketplace (System), Customer Support

**Assumptions:**  

- Olivia has an active account with permission to view booking and payment data.  
- The system is operational, and Olivia has a reliable internet connection.  

**Use Case:**  
Olivia, the parking space owner, logs into the Parking Space Marketplace app and navigates to her dashboard, which displays a clear summary of all upcoming and past bookings for her parking spaces. The dashboard also provides detailed earnings reports over various timeframes, enabling Olivia to track income and analyze trends. She can filter bookings by date, status, or location, making it easy to manage multiple listings. If the dashboard fails to load, the app immediately shows contact information for customer support, so Olivia can quickly get assistance. Olivia uses this information to stay informed about her rental activity and make informed decisions regarding availability and pricing. Notifications about new bookings, cancellations, and completed rentals help keep Olivia up to date without constantly checking the app.

**Benefits:**  

- Provides Olivia with transparent and real-time information on bookings and earnings.  
- Offers prompt support access in case of technical issues, enhancing user confidence and satisfaction.

**Use Case Modeling:**

![Use Case 6 Diagram](../../images/UseCase6.png)

### Use Case 7: User Profile Management

User updates personal info, payment details, or preferences. If invalid info is entered, app requests corrections.

**Actors:** Kevin (User/Renter), Parking Space Marketspace (System)

**Assumptions:**  

- Kevin is logged into a verified account
- The system validates and stores updated data securely
- Kevin can make changes to personal information and payment details.

**Use Case:**  
Kevin just sold his house and is moving into a new home, and bought a new car as well. To make sure his account is still active and accurate, he logs into the app and goes to his profile settings. He then updates his home address, car license plate, and adds a new credit card as well for future payments. The system validates his card and securely updates his profile. Kevin then receives a confirmation email summarizing the changes, and now his account is ready to go again. This makes sure there will be no mix-ups with wrong information between the user and the renter.

**Benefits:**  

- Keeps user data accurate and secure  
- Allows easy booking and ensures users' info is accurate and trustworthy
- Kevin can stay connected to Parking Space Marketplace and make changes (changing address)

**Use Case Modeling:**

![Use Case 7 Diagram](../../images/UseCase7.png)

### Use case 8

Renter finds nearby parking for late night shifts. If no safe spot is available, app suggests alternative options.

**Actors:** Cynthia (Renter), Parking Space Marketspace System (System)

**Assumptions:**

- Cynthia owns or has access to a car
- Cynthia works night shifts
- Cynthia lives in a neighborhood with a concerning crime rate

**Use Case:**
Cynthia, who works night shifts, resides in a neighborhood with a high crime rate. Upon returning home from her shifts in the middle of the night, she consistently encounters difficulties in finding parking. The available parking spaces are often situated at considerable distances, necessitating lengthy walks back to her residence. This situation poses a significant safety concern for Cynthia, especially considering the prevalent news reports of violence against women in her area. To address this issue, Cynthia explored the possibility of securing a parking space closer to her home. She discovered that one of her neighbors had an unused parking spot that she could rent. This discovery brought her immense relief and satisfaction, as it eliminated the fear of unsafely returning home each night from work. Cynthia promptly rented the parking space using the application (Parking Place Marketplace) and experienced a profound sense of comfort upon returning home from work. This newfound convenience has significantly improved her overall well-being.

**Benefits:**

- Cynthia no longer needs to live in fear each night she comes home from work.
- Cynthia has a lower chance of any violence or crime committed to her.

**Use Case Modeling:**

![Use Case 8 Diagram](../../images/UseCase8.png)

#### Use case 9

Renter with mobility challenges secures a nearby accessible parking spot. If no accessible spot is found, Stystem suggests the closest available options.

**Actors:** Margaret (Renter), Parking Space Marketspace System (System)

**Assumptions:**

- Margaret has a car
- Margaret has health concerns (mobility impairment)
- There is limited street parking where she lives

**Use Case:**
Margaret, an elderly Renter with a mobility impairment, faces significant challenges in accessing her residence due to the limited street parking availability in her vicinity. The extended distances required to find parking near her home exacerbate her health condition, rendering walking an impractical option. Consequently, she has been confined to her home, avoiding the inconvenience and potential strain associated with long-distance walks. However, upon discovering the availability of a convenient parking spot on our website, Margaret has taken proactive steps to secure it. This arrangement has alleviated her concerns, enabling her to leave her home without the burden of excessive walking, particularly given her health limitations. By having a readily accessible parking space, Margaret can now freely engage in outdoor activities and enjoy life without the constraints of long-distance transportation.

**Benefits:**

- Margaret gets to leave the house more because she knows there will be parking for her.
- Accessibility
- Minimizes stress

**Use Case Modeling:**

![Use Case 9 Diagram](../../images/UseCase9.png)

### Use Case 10: Car trouble in currently rented parking space

Renter requests roadside assistance when experiencing car trouble. System charges for extended stay, notifies spot owner of delay, and updates both parties when the spot is available again.

**Actors:** John (Renter), Jennifer (Parking spot owner), Parking Space Marketplace, AAA (Tow service + road services)

**Assumptions:**

- John has a car and is occupying Jennifer's parking space
- John's car will not start because of cold weather
- Parking Space Marketplace has AAA (road service) help

**Use Case:**
John is currently renting Jennifer's parking spot using Parking Space Marketplace. He is in a business meeting, and when he gets back to his car he discovers that the cold weather killed his battery. The time before John has to give up his parking space for the next customer is 10 minutes away. John logs onto the application and chooses "road service" option. After charging John's credit card for the late stay in the parking spot, Parking Space Marketplace connects John to AAA (road service) so he can let them know of the dead battery and they can send someone to jump it, then the application lets Jennifer know that John will be occupying the parking spot longer than intended because of car trouble. It will also let Jennifer know the road service arrival time and will notify her when the parking spot is free after road service is done helping John with his vehicle.

**Benefits:**

- John can get road service (car trouble help) using Parking Space Marketplace
- Jennifer is kept in the loop about the overstay on her property

**Use Case Modeling:**

![Use Case 10 Diagram](../../images/UseCase10.png)

---

## Main Data Items and Entities

| Entity                | Meaning/Definition                                                                                                                                                                                                                                     | Usage                                                                                                  |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------ |
| **User**              | Any person with an account on the platform: owners (who list spaces), renters (who book spaces), or admins.                                                                                                                                            | Authentication, permissions, booking, profile management, messaging, payment, accessibility            |
| **Parking Space**      | A physical parking spot available for rent. Spaces can be standard or accessible (with features like ramps, extra space, or proximity to entrances). Each listing records accessibility status and features. | Searching, map display, availability management, filtering by accessibility, pricing, reviews          |
| **Booking**           | A reservation of a specific parking space for a defined period, linking a renter to a space (and its owner).                                                                                                                                            | Payment, calendar locking, booking history, notifications, enforcement of cancellation/refund policies |
| **Payment**           | The monetary transaction associated with a booking, covering reservation fees, refunds, or service charges.                                                                                                                                            | Payment tracking, refunds, owner earnings, renter receipts, financial reporting                        |
| **PaymentMethod**     | Saved credit/debit card or bank account information linked to a User account, can be set as default or updated.                                                                                                                                        | Secure payments, card management, validation, setting defaults, replacing expired methods              |
| **Message**           | In-app communications between users or with support/admins. May include booking instructions or behavioral warnings.                                                                                                                                   | Coordination (arrival, instructions), customer support, moderation, evidence in disputes               |
| **Review**            | Post booking feedback and ratings submitted by renters or owners, attached to users or parking spaces.                                                                                                                                                 | Building trust, community quality, search rankings, owner/renter reputation                            |
| **AdminAction**       | Intervention or actions by platform staff/admins: bans, warnings, dispute resolution, or moderation of content.                                                                                                                                        | Maintaining platform safety, resolving conflicts, logging critical actions, monitoring abuse           |
| **SupportTicket**     | Request from any user for technical or customer support (failed dashboard, refund issue, accessibility question).                                                                                                                                | Helpdesk workflow, issue escalation, communication history                                             |
| **ServiceRequest**    | A special booking event such as requesting roadside assistance (e.g., AAA), especially if car trouble affects booking.                                                                                                                                 | Emergency services, handling overstays, coordination with spot owner and service provider              |
| **EarningsDashboard** | Data view for owners showing cumulative and per booking income, trends, and active/past bookings.                                                                                                                                                      | Owner financial reporting, managing payouts, business decisions, troubleshooting                       |
| **Notification**      | Automated or manual alerts sent to users via app, email, or SMS (new booking, payment failed, cancellation, warning).                                                                                                                            | Keeping users informed, compliance, reminders, alerts on actions like cancellation or booking          |

---

## Functional Requirements

## 1. Renter

**1.1 Searching and Viewing Parking Spaces**

1.1.1 The renter shall be able to search for parking spaces by address.

1.1.2 The renter shall be able to search for parking spaces by date and time.

1.1.3 The renter shall be able to view parking spaces on an interactive map.

1.1.4 The renter shall be able to filter parking spaces by price, distance, amenities (eg., EV charging, covered), vehicle size compatibility, and accessibility status.

1.1.5 The renter shall be able to sort parking space search results by relevance, price, or distance.

1.1.6 The renter shall be able to view detailed information for each parking space, including photos, description, accessibility features, and owner-defined rules.

**1.2 Booking and Payment**

1.2.1 The renter shall be able to create a booking for a selected parking space.

1.2.2 The renter shall be able to select the desired date and time for the booking.

1.2.3 The renter shall be able to pay for a booking using multiple payment methods.

1.2.4 The renter shall be able to save, update, and remove payment methods from their account.

1.2.5 The renter shall be able to receive payment confirmations and notifications regarding the status of their booking.

1.2.6 The renter shall be able to cancel a booking, subject to the applicable refund policy.

**1.3 Managing Bookings and Reviews**

1.3.1 The renter shall be able to view a list of upcoming and past bookings.

1.3.2 The renter shall be able to extend an active booking, subject to availability.

1.3.3 The renter shall be able to leave a Review for a completed booking or parking space.

1.3.4 The renter shall be able to report issues with a parking space or booking.

**1.4 Profile and Communication**

1.4.1 The renter shall be able to update their profile information (contact details, vehicle info, accessibility needs).

1.4.2 The renter shall be able to manage notification preferences (receive booking reminders, payment alerts via app/email/SMS).

1.4.3 The renter shall be able to message the parking space owner about a booking.

1.4.4 The renter shall be able to access help resources and submit a SupportTicket for technical or customer support.

**1.5 Special Features**

1.5.1 The renter shall be able to request roadside assistance (ServiceRequest) if experiencing car trouble during an active booking.

1.5.2 The renter shall be able to receive navigation directions to the parking space location.

## 2. Owner

**2.1 Listing and Managing Parking Spaces**

2.1.1 The owner shall be able to create a new parking space listing by providing address, photos, description, amenities, accessibility features, and pricing.

2.1.2 The owner shall be able to set and edit availability windows for each parking space.

2.1.3 The owner shall be able to update details or remove an existing parking space listing.

2.1.4 The owner shall be able to temporarily unlist a parking space from the marketplace.

**2.2 Managing Bookings and Earnings**

2.2.1 The owner shall be able to view and manage all bookings for their parking spaces.

2.2.2 The owner shall be able to accept or decline incoming booking requests.

2.2.3 The owner shall be able to receive booking notifications and cancellation alerts.

2.2.4 The owner shall be able to access an EarningsDashboard displaying income by period and booking history.

2.2.5 The owner shall be able to update their banking/payment information to receive payouts.

**2.3 Communication and Reviews**

2.3.1 The owner shall be able to message renters about bookings.

2.3.2 The owner shall be able to review renters after completed bookings.

2.3.3 The owner shall be able to set specific rules for each parking space.

**2.4 Profile and Support**

2.4.1 The owner shall be able to update their profile and contact details.

2.4.2 The owner shall be able to submit support tickets for customer or technical support.

## 3. Admin

**3.1 User and Content Management**

3.1.1 The admin shall be able to view and manage all user accounts (renters, owners, admins).

3.1.2 The admin shall be able to suspend or ban user accounts as needed.

3.1.3 The admin shall be able to monitor and moderate user generated content, including listings, messages, Reviews, and booking records.

3.1.4 The admin shall be able to flag, remove, or edit inappropriate content or Reviews.

3.1.5 The admin shall be able to handle disputes between users and perform admin actions (warnings, penalties, etc.).

**3.2 Payments and Analytics**

3.2.1 The admin shall be able to view and manage all payments and transactions.

3.2.2 The admin shall be able to issue refunds and adjust commission or platform fees.

3.2.3 The admin shall be able to generate financial reports, analytics, and usage metrics.

3.2.4 The admin shall be able to monitor system health and performance.

**3.3 Platform Settings and Policies**

3.3.1 The admin shall be able to update platform terms, conditions, and privacy policy.

3.3.2 The admin shall be able to configure notification and penalty settings.

## 4. All Users

**4.1 Account Management and Access**

4.1.1 All users shall be able to register for an account.

4.1.2 All users shall be able to log in securely.

4.1.3 All users shall be able to reset a forgotten password.

4.1.4 All users shall be able to delete their account.

**4.2 General Features**

4.2.1 All users shall be able to access the help center or FAQ.

4.2.2 All users shall be able to view the privacy policy and terms of service.

4.2.3 All users shall be able to manage notification preferences

---

## Non-Functional Requirements

**1. Performance**

1.1 The system shall support at least 5,000 concurrent users without noticeable performance degradation.

1.2 Page load times for all main user flows (search, booking, dashboard) shall not exceed 3 seconds under typical North American network conditions (25 Mbps download, 3 Mbps upload, <100ms latency).

1.3 Search for parking space availability shall return results within 2 seconds for up to 10,000 listings.

1.4 All user actions (booking, payment, messaging) shall provide feedback or error notifications within 1 second.

**2. Reliability**  

2.1 All booking, cancellation, and payment transactions shall be atomic and consistent to prevent double booking, orphaned payments, or data loss.

2.2 The system shall maintain an uptime of at least 99.5% per calendar month, excluding scheduled maintenance.

2.3 Daily automated backups shall be performed for all critical data, backups shall be retained for a minimum of 30 days.

2.4 Disaster recovery procedures shall ensure system restoration within 6 hours of a major outage.

**3. Security**  

3.1 All sensitive user data including payment details, personally identifiable information, and messages shall be encrypted in transit using TLS 1.2+ and at rest using AES-256 or stronger.

3.2 The system shall implement Role Based Access Control (RBAC) to enforce separation of permissions between renters, owners, and admins.

3.3 All payment processing shall comply with PCI DSS requirements.

3.4 Passwords shall be hashed and salted using a secure, modern algorithm (argon2).

3.5 The system shall enforce multi-factor authentication (MFA) for all admin accounts.

**4. Privacy**

4.1 Users shall be able to view, edit, or delete their personal data and payment methods at any time via the platform interface.

4.2 User data, including message logs, booking history, and payment records, shall only be accessible to the account holder and authorized platform staff.

4.3 No user data shall be shared with third parties except as required for payment processing or legal compliance.

4.4 Data retention policies shall be transparent and compliant with GDPR, CCPA, and relevant privacy laws, deleted data shall be purged from backups within 30 days.

**5. Usability & Accessibility**

5.1 The user interface shall conform to WCAG 2.1 Level AA accessibility standards, ensuring support for screen readers, keyboard navigation, and sufficient color contrast.

5.2 The platform shall provide a responsive design for seamless use on desktop, tablet, and mobile devices, with user interface elements scaling appropriately.

5.3 All primary user flows (searching, booking, messaging, payment, support) shall be achievable with no more than five clicks from the homepage.

5.4 Contextual help, onboarding and tutorials shall be provided for first time users and complex features.

5.5 All accessible parking spaces must be clearly marked as such in listings, and filtering by accessibility must be supported.

**6. Look and Feel**

6.1 The application shall adhere to a consistent visual style, all UI components shall be built with Tailwind CSS and Headless UI, styled and structured according to an in house design guide inspired by Material Design principles.

6.2 The color palette, font, and layout shall remain consistent across all pages and devices.

6.3 Brand assets (logo, primary colors, fonts) shall be documented and used as specified in the project’s style guide.

**7. Maintainability**

7.1 The team shall use 4 spaces for indentation and UTF-8 encoding for all source files.

7.2 Pull requests must pass automated style and lint checks (PEP8 for Python, ESLint for JavaScript).

7.3 All changes must undergo peer review and approval by at least one other developer prior to merge.

7.4 Commit messages shall follow the Conventional Commits standard.

**8. Portability**

8.1 The admin web interface shall be deployable on Windows 10+, macOS 12+, and Ubuntu Linux 20.04+.

8.2 The renter and owner interfaces shall be compatible with the latest two major versions of iOS (Safari, Chrome) and Android (Chrome, Firefox) browsers.

8.3 The system shall be containerized (Docker) for ease of deployment across environments.

**9. Scalability**

9.1 The system architecture shall support horizontal scaling at the application, web server, and database layers.

9.2 Data storage and search solutions (database indexing, caching) shall maintain user facing performance as the dataset grows by 10x.

9.3 The messaging, notification, and support ticket subsystems shall be able to handle bursts of up to 2,000 events/minute.

**11. Compatibility**

11.1 The platform shall support at least the two most recent major releases of Chrome, Firefox, Safari, and Edge browsers.

11.2 The system shall integrate with at least two major third party payment gateways (e.g., Stripe, PayPal) and Google Maps API, with clear versioning and upgrade paths.

11.3 Browser and OS support details shall be published in the system documentation for end users and admins.

**12. Compliance**

12.1 The platform shall comply with GDPR, CCPA, and any other applicable local or federal data protection laws.

12.2 Accessibility, anti discrimination, and consumer protection legislation shall be followed in all markets where the platform is available.

12.3 All required user agreements, privacy policies, and terms of service shall be visible and accessible on the platform.

**13. Supportability**

13.1 The system shall provide real-time alerts for major system failures, booking/payment errors, and performance degradation to the admin dashboard and support teams.

13.2 Support teams shall have secure access to diagnostic logs, anonymized user activity reports, and system health metrics.

13.3 Support shall be available via email messaging during posted business hours (9am-6pm PT, M-F).

13.4 An incident management plan, including escalation procedures and regular review, shall be maintained and tested quarterly.

13.5 The system shall be supported by Safari browser version 11.1.1 and later, Chrome 90+, Firefox 90+, Edge 90+, iOS 15+, and Android 11+.

---

## Competivie Analysis

### Important Features Table

| Features/Companies | Spacer | SpotHero | Park Mobile | AirGarage | YourParkingSpace |
| --- | --- | --- | --- | --- | --- |
| Strengths | The top cities of the US are covered | Real time inventory | Public-private event partnerships | Automates entire operations | Offers long-term options |
| Weaknesses | Only buy a space monthly | Only available in North America | Less flexibility when it comes from peer to peer | Audience is focused on Institutional owners | UK-centric |
| Pricing | Variable | Event based pricing | Small convenience fees for mobile use | No upfront cost for owners | Subscription plans for regular users |
| Social Media | Instagram, Twitter, and Facebook | Instagram, twitter, linkedIn. Event based contents | Instagram, Twitter, LinkedIn | None except for LinkedIn and Instagram | UK-specific campaign |
| Onboarding Experience | Easy to understand instructions | Fast email and social media login | Utility focused  | Targets lot owners specifically | Sign-up is complicated and onboarding tailored to specific location |
| Links  | [https://www.spacer.com](https://www.spacer.com/) | [https://spothero.com](https://spothero.com/) | <https://parkmobile.io/> | <https://www.airgarage.com/> | <https://www.yourparkingspace.co.uk/> |

### High-level Comparison  

| Features/Companies | Parking Space Marketspace | Spacer | SpotHero | Park Mobile | AirGarage | YourParkingSpace |
| --- | --- | --- | --- | --- | --- | --- |
| Real-time booking | ++ | +  | + | + | + | + |
| Peer-to-peer listings  | ++ | + | - | - | - | + |
| EV charging support | ++ | +  | + | + | + | + |
| Recurring/long-term booking | ++ | + | - | - | + | + |
| Vehicle License Insurance | ++ | + | - | - | - | - |
| Distcounts for active college students | ++ | - | - | - | - | - |

| Symbol | Meaning            |
| ------ | ------------------ |
| -      | Not implemented    |
| +      | Implemented        |
| ++     | Plan to improve it |

While our idea is not new to the market, our service will have multiple advantages over the competition. Aside from providing the features
mentioned in the high level comparison, our major competitive edge is giving the user complete freedom and fair pricing. The four companies mentioned above
all enact limitations on how their users can park. Park Mobile allows their users to chose how long they wish to park, however, they can
only park for at most a day as well as adding transaction fees to its varying rates. YourParkingSpace gives their users more freedom than Park Mobile, but it still limits them for at most three
days parking and has a 20% uplift and a 3% processing fee on top of owner-set prices. Then there are SpotHero and Spacer, which only cater to monthly parking, with prices ranging from $20-$35 daily in San Francisco via SpotHero or $200-$400+ monthly with Spacer. As for AirGarage,
their service depends on their partners, which are usually parking lots or parking garages who are limited to daily parking and have an hourly rate of 20$.
While these services are nice, they fail to solve all problems involving parking. What if there is a student who has class from 12:00 to 3:00
every Tuesday and Thursday for five months? There is no easy way for them to guarantee a parking spot for an entire semester. That is, without our service.
In other words, our service will handle the more specific scenarios that remain unresolved, or require a difficult solution, by giving more
flexibility to the user. No daily limit, no monthly limit, no more unreasonable prices, just complete freedom to register at specific times for some duration, on top of
what the comptetion already provides.

## Checklist

- [x] Found a time slot outside of class? DONE
- [x] GitHub master branch chosen? DONE  
- [x] Team selected frameworks & deployment server? DONE  
- [x] Everyone read M1 spec? DONE
- [x] GitHub repo organized per class guidelines? DONE  

---

## High-Level System Architecture and Technologies Used

- **Server:** AWS EC2  
- **Operating Systems:** Windows 11, Linux Mint, macOS  
- **Database:** PostgreSQL  
- **Web Server:** AWS ALB
- **Backend Language:** Python  
- **Backend Framework:** Django  
- **Frontend Language:** JavaScript (React), CSS, HTML  
- **Frontend Framework:** Next.js  
- **Additional Tech:** WSL, Poetry, npm/Yarn
- **IDE:** Visual Studio Code, DBeaver  
- **SSL Certificate:** AWS ELB (automatic HTTPS via Let’s Encrypt)  
- **Containerization:** Docker (running on EC2)
- **Object storge:**  S3
- **Rate Limiting:** Django ORM
- **Backend WSGI Server:** Gunicorn (running within Docker containers)

---

| Team Member | Contributions                                                                                                                             |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| Nathan   8   | - Wrote Use Cases 4 & 7<br>- Created UML diagram for Use Case 7<br>- Set up basic PostgreSQL database<br>- Updated personal info          |
| El Juliana 8 | - Wrote Use Cases 3 & 5<br>- Conducted competitive analysis for SpotHero, ParkMobile, AirGarage, YourParkingSpace<br>- Created high-level comparison table with features (real-time booking, peer-to-peer, EV charging, recurring long-term, vehicle/license insurance)<br>- Added bio & picture                          |
| Krishna  8   | - Added bio & picture (pushed to dev branch)<br>- Improved styling across pages<br>- Wrote Use Case 10<br>- Expanded sentences in other use cases<br>- Enhanced frontend aesthetics and visual design |
| Juan    7   | - Wrote Use Cases 1 & 2<br>- Filled “Spacer” column in important features & high-level comparison tables<br>- Drafted paragraph on product’s competitive edge |
| Stella  10    | - Served as Team Lead<br>- Created backend AWS infrastructure<br>-  Set up `credentials` folder with SSH & DB config<br>- Implemented core frontend functionality <br>- Implemented core backend functionality <br>- Added Use Case 6 <br>- Created 9/10 Use case diagrams <br>- wrote functional & non-functional requirements
| Fatma  4   | - Contributed to Milestone 1 deliverables<br>- Added informational content to the About page <br>- Added Use Case 9 & 10                                                |

### M2

# SW Engineering CSC648-848-05 Summer 2025, T05: Parking Space Marketplace

# Milestone 2 V2

## Project/Application Title: Parking Space Marketplace

**Date:** July 22nd 2025

---

### History Table

| Milestone | Version | Date           |
|-----------|---------|----------------|
| M2        | V2      | July 22nd 2025 |
| M2        | V1      | July 3rd 2025  |
| M1        | V2      | June 23rd 2025 |
| M1        | V1      | June 17th 2025 |

---

## Team

| Student | Full Name             | SFSU Email             | GitHub Username      | Discord Username      | Role(s)                      |
|:-------:|:---------------------:|:----------------------:|:--------------------:|:---------------------:|:-----------------------------:|
|    #1   | Stella Parker         | <sparker11@sfsu.edu>     | @whoIsStella         | latchkeykid           | Team-lead / Backend-Lead/GitHub Master/Scrum Master |
|    #3   | Nathaniel Moreno      | <nmoreno@sfsu.edu>       | @NateM03             | ba_daniels            | Database Administrator        |
|    #4   | Fatma Almosawi        | <falmosawi@sfsu.edu>     | @fatma-al            | fatma.almosawi        | Scrum Master                  |
|    #5   | Krishna Shenoy        | <920875953@sfsu.edu>     | @krishs44            | krishnashenoy_71520   | Technical Writer              |
|    #6   | Juan Daniel Ramirez   | <jramirez9@sfsu.edu>     | @JuanDanielRamirez   | juanramirez_05991     | Frontend Lead                 |
|    #7   | Julianna Embalzado    | <eembalzado@mail.sfsu.edu> | julianna-embalzado | jejemon6201           | Software Architect            |

---

### Table of Contents

1. [Data Definitions](#data-definitions)
2. [Prioritized High-Level Functional Requirements](#prioritized-high-level-functional-requirements)
3. [Mockups/Storyboards](#Mockups/Storyboards)  
4. [High-Level System Design](#high-level-system-design)  
5. [Key Project Risks](#key-project-risks)  
6. [Project Management](#project-management)  
7. [List of Team Contributions](#list-of-team-contributions)  

---

## Data Definitions

### User

| Attribute            | Type         | Constraints / Notes                                        |
| -------------------- | ------------ | ---------------------------------------------------------- |
| user\_id             | UUID/serial  | PK, unique, not null                                       |
| email                | VARCHAR(255) | unique, not null, must be valid email                      |
| password\_hash       | VARCHAR(255) | not null (argon2, salted)                                  |
| first\_name          | VARCHAR(100) | not null                                                   |
| last\_name           | VARCHAR(100) | not null                                                   |
| phone\_number        | VARCHAR(20)  | nullable, validated                                        |
| role                 | ENUM         | 'renter', 'owner', 'admin'; not null                       |
| mfa\_enabled         | BOOLEAN      | default: false                                             |
| is\_active           | BOOLEAN      | default: true                                              |
| created\_at          | TIMESTAMP    | auto-set                                                   |
| profile\_image\_url  | VARCHAR(300) | nullable; image (<5MB, jpg/png/webp, 512x512 max)          |
| address              | VARCHAR(255) | nullable; for owner payout/tax, user personalization       |
| vehicle\_license     | VARCHAR(20)  | nullable; for renters, validated, format: country-specific |
| accessibility\_needs | TEXT         | nullable; e.g., wheelchair access required                 |
| notification\_prefs  | JSON         |  email: true, sms: false, push: true           |

### Parking Space

| Attribute              | Type         | Constraints / Notes                                          |
| ---------------------- | ------------ | ------------------------------------------------------------ |
| space\_id              | UUID/serial  | PK, unique, not null                                         |
| owner\_id              | UUID         | FK to User, not null                                         |
| address                | VARCHAR(255) | not null, geocoded for map                                   |
| latitude               | FLOAT        | not null                                                     |
| longitude              | FLOAT        | not null                                                     |
| description            | TEXT         | not null, 1-1000 chars                                       |
| price\_per\_hour       | DECIMAL(6,2) | not null, >=0, USD                                           |
| price\_per\_day        | DECIMAL(6,2) | optional, >=0, USD                                           |
| is\_accessible         | BOOLEAN      | default: false (accessible features for ADA)                 |
| features               | JSON         | e.g., ev_charging: true, covered: true, size: "XL"     |
| images                 | JSON         | array of image URLs (<10, each <5MB, jpg/png/webp, 1024x768) |
| status                 | ENUM         | 'active', 'unlisted', 'pending', 'banned'                    |
| rules                  | TEXT         | nullable; e.g., “No overnight parking, call if late”         |
| created\_at            | TIMESTAMP    | auto-set                                                     |
| updated\_at            | TIMESTAMP    | auto-set                                                     |
| availability\_schedule | JSON         | e.g., mon:[8-18], tue:[8-18], ...     |

### Booking

| Attribute            | Type         | Constraints / Notes                                        |
| -------------------- | ------------ | ---------------------------------------------------------- |
| booking\_id          | UUID/serial  | PK, unique, not null                                       |
| space\_id            | UUID         | FK to ParkingSpace, not null                               |
| renter\_id           | UUID         | FK to User, not null                                       |
| owner\_id            | UUID         | FK to User, not null                                       |
| start\_time          | TIMESTAMP    | not null, UTC                                              |
| end\_time            | TIMESTAMP    | not null, UTC                                              |
| status               | ENUM         | 'pending', 'confirmed', 'canceled', 'completed', 'no-show' |
| amount\_total        | DECIMAL(6,2) | not null, >=0, USD                                         |
| payment\_id          | UUID         | FK to Payment, nullable (pending booking)                  |
| cancellation\_reason | VARCHAR(255) | nullable                                                   |
| created\_at          | TIMESTAMP    | auto-set                                                   |
| last\_updated        | TIMESTAMP    | auto-set                                                   |
| review\_left         | BOOLEAN      | default: false                                             |

### Payment

| Attribute           | Type         | Constraints / Notes                                      |
| ------------------- | ------------ | -------------------------------------------------------- |
| payment\_id         | UUID/serial  | PK, unique, not null                                     |
| booking\_id         | UUID         | FK to Booking, not null                                  |
| user\_id            | UUID         | FK to User, payer (usually renter), not null             |
| amount              | DECIMAL(6,2) | not null, >=0, USD                                       |
| status              | ENUM         | 'pending', 'succeeded', 'failed', 'refunded', 'disputed' |
| payment\_method\_id | UUID         | FK to PaymentMethod, not null                            |
| created\_at         | TIMESTAMP    | auto-set                                                 |
| refunded\_at        | TIMESTAMP    | nullable                                                 |
| transaction\_ref    | VARCHAR(100) | Stripe/PayPal reference, unique                          |

### Payment Method

| Attribute           | Type         | Constraints / Notes                             |
| ------------------- | ------------ | ----------------------------------------------- |
| payment\_method\_id | UUID/serial  | PK, unique, not null                            |
| user\_id            | UUID         | FK to User, not null                            |
| card\_brand         | VARCHAR(20)  | 'Visa', 'MasterCard', 'Amex'; or 'PayPal' |
| last4               | VARCHAR(4)   | not null                                        |
| expiry\_month       | INT          | 1-12                                            |
| expiry\_year        | INT          | four-digit year                                 |
| is\_default         | BOOLEAN      | default: false                                  |
| token               | VARCHAR(255) | Encrypted; never store raw PAN                  |
| created\_at         | TIMESTAMP    | auto-set                                        |

### Message

| Attribute       | Type         | Constraints / Notes                          |
| --------------- | ------------ | -------------------------------------------- |
| message\_id     | UUID/serial  | PK, unique, not null                         |
| sender\_id      | UUID         | FK to User, not null                         |
| recipient\_id   | UUID         | FK to User, not null                         |
| booking\_id     | UUID         | FK to Booking, nullable (general or support) |
| content         | TEXT         | not null, 1-2000 chars, profanity check      |
| sent\_at        | TIMESTAMP    | auto-set                                     |
| is\_flagged     | BOOLEAN      | default: false                               |
| flagged\_reason | VARCHAR(100) | nullable, e.g., 'abusive', 'spam'            |

### Review

| Attribute    | Type        | Constraints / Notes            |
| ------------ | ----------- | ------------------------------ |
| review\_id   | UUID/serial | PK, unique, not null           |
| author\_id   | UUID        | FK to User, not null           |
| booking\_id  | UUID        | FK to Booking, not null        |
| target\_type | ENUM        | 'user', 'space'                |
| target\_id   | UUID        | FK to User or ParkingSpace     |
| rating       | INT         | 1-5 stars, not null            |
| comment      | TEXT        | nullable, 1-1000 chars         |
| created\_at  | TIMESTAMP   | auto-set                       |
| is\_visible  | BOOLEAN     | default: true (admin can hide) |

### AdminAction

| Attribute    | Type        | Constraints / Notes                                |
| ------------ | ----------- | -------------------------------------------------- |
| action\_id   | UUID/serial | PK, unique, not null                               |
| admin\_id    | UUID        | FK to User (admin), not null                       |
| user\_id     | UUID        | FK to User, nullable (target)                      |
| action\_type | ENUM        | 'ban', 'warn', 'refund', 'edit', 'resolve\_ticket' |
| reason       | TEXT        | not null, 1-500 chars                              |
| created\_at  | TIMESTAMP   | auto-set                                           |

### ServiceRequest

| Attribute     | Type        | Constraints / Notes                               |
| ------------- | ----------- | ------------------------------------------------- |
| request\_id   | UUID/serial | PK, unique, not null                              |
| booking\_id   | UUID        | FK to Booking, not null                           |
| user\_id      | UUID        | FK to User, not null                              |
| service\_type | ENUM        | 'roadside', 'unlock', 'other'                     |
| status        | ENUM        | 'pending', 'in\_progress', 'resolved', 'canceled' |
| created\_at   | TIMESTAMP   | auto-set                                          |
| resolved\_at  | TIMESTAMP   | nullable                                          |
| notes         | TEXT        | nullable                                          |

### EarningsDashboard _this can be matiealized or agrigated_

| Attribute       | Type          | Constraints / Notes                       |
| --------------- | ------------- | ----------------------------------------- |
| owner\_id       | UUID          | FK to User, not null                      |
| period          | ENUM          | 'daily', 'weekly', 'monthly', 'all\_time' |
| total\_earnings | DECIMAL(10,2) | not null, USD                             |
| num\_bookings   | INT           | not null                                  |
| last\_updated   | TIMESTAMP     | auto-set                                  |

### Notification

| Attribute        | Type        | Constraints / Notes                                |
| ---------------- | ----------- | -------------------------------------------------- |
| notification\_id | UUID/serial | PK, unique, not null                               |
| user\_id         | UUID        | FK to User, not null                               |
| type             | ENUM        | 'booking', 'payment', 'cancel', 'support', 'alert' |
| content          | TEXT        | not null, 1-500 chars                              |
| is\_read         | BOOLEAN     | default: false                                     |
| sent\_at         | TIMESTAMP   | auto-set                                           |

---

### Priority 1

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.1 The renter shall be able to search for parking spaces by address.
- 1.1.2 The renter shall be able to search for parking spaces by date and time.
- 1.1.3 The renter shall be able to view parking spaces on an interactive map.

**Section 1.2: Booking and Payment**

- 1.2.1 The renter shall be able to create a booking for a selected parking space.
- 1.2.2 The renter shall be able to select the desired date and time for the booking.
- 1.2.3 The renter shall be able to pay for a booking using multiple payment methods.
- 1.2.4 The renter shall be able to save, update, and remove payment methods from their account.
- 1.2.5 The renter shall be able to receive payment confirmations and notifications regarding the status of their booking.
- 1.2.6 The renter shall be able to cancel a booking, subject to the applicable refund policy.

**Section 1.4: Profile and Communication**

- 1.4.3 The renter shall be able to message the parking space owner about a booking.

#### 2. Owner

**Section 2.1: Listing and Managing Parking Spaces**

- 2.1.1 The owner shall be able to create a new parking space listing by providing address, photos, description, amenities, accessibility features, and pricing.
- 2.1.2 The owner shall be able to set and edit availability windows for each parking space.
- 2.1.3 The owner shall be able to update details or remove an existing parking space listing.

**Section 2.2: Managing Bookings and Earnings**

- 2.2.1 The owner shall be able to view and manage all bookings for their parking spaces.
- 2.2.2 The owner shall be able to accept or decline incoming booking requests.
- 2.2.5 The owner shall be able to update their banking/payment information to receive payouts.

**Section 2.3: Communication and Reviews**

- 2.3.3 The owner shall be able to set specific rules for each parking space.

**Section 2.4: Profile and Support**

- 2.4.1 The owner shall be able to update their profile and contact details.

#### 3. Admin

**Section 3.1: User and Content Management**

- 3.1.1 The admin shall be able to view and manage all user accounts (renters, owners, admins).
- 3.1.2 The admin shall be able to suspend or ban user accounts as needed.
- 3.1.3 The admin shall be able to monitor and moderate user-generated content, including listings, messages, reviews, and booking records.
- 3.1.4 The admin shall be able to flag, remove, or edit inappropriate content or reviews.
- 3.1.5 The admin shall be able to handle disputes between users and perform admin actions (warnings, penalties, etc.).

**Section 3.2: Payments and Analytics**

- 3.2.1 The admin shall be able to view and manage all payments and transactions.
- 3.2.2 The admin shall be able to issue refunds and adjust commission or platform fees.
- 3.2.3 The admin shall be able to generate financial reports, analytics, and usage metrics.
- 3.2.4 The admin shall be able to monitor system health and performance.

#### 4. All Users

**Section 4.1: Account Management and Access**

- 4.1.1 All users shall be able to register for an account.
- 4.1.2 All users shall be able to log in securely.
- 4.1.3 All users shall be able to reset a forgotten password.
- 4.1.4 All users shall be able to delete their account.

**Section 4.2: General Features**

- 4.2.2 All users shall be able to view the privacy policy and terms of service.
- 4.2.3 All users shall be able to manage notification preferences.

---

### Priority 2

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.5 The renter shall be able to sort parking space search results by relevance, price, or distance.
- 1.1.6 The renter shall be able to view detailed information for each parking space, including photos, description, accessibility features, and owner-defined rules.

**Section 1.3: Managing Bookings and Reviews**

- 1.3.1 The renter shall be able to view a list of upcoming and past bookings.
- 1.3.2 The renter shall be able to extend an active booking, subject to availability.
- 1.3.3 The renter shall be able to leave a review for a completed booking or parking space.
- 1.3.4 The renter shall be able to report issues with a parking space or booking.

**Section 1.4: Profile and Communication**

- 1.4.1 The renter shall be able to update their profile information (contact details, vehicle info, accessibility needs).
- 1.4.2 The renter shall be able to manage notification preferences (receive booking reminders, payment alerts via app/email/SMS).

#### 2. Owner

**Section 2.1: Listing and Managing Parking Spaces**

- 2.1.4 The owner shall be able to temporarily unlist a parking space from the marketplace.

**Section 2.2: Managing Bookings and Earnings**

- 2.2.3 The owner shall be able to receive booking notifications and cancellation alerts.
- 2.2.4 The owner shall be able to access an Earnings Dashboard displaying income by period and booking history.

#### 3. Admin

**Section 3.3: Platform Settings and Policies**

- 3.3.1 The admin shall be able to update platform terms, conditions, and privacy policy.
- 3.3.2 The admin shall be able to configure notification and penalty settings.

#### 4. All Users

**Section 4.2: General Features**

- 4.2.1 All users shall be able to access the help center or FAQ.

---

### Priority 3

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.4 The renter shall be able to filter parking spaces by price, distance, amenities (e.g., EV charging, covered), vehicle size compatibility, and accessibility status.

**Section 1.4: Profile and Communication**

- 1.4.4 The renter shall be able to access help resources and submit a support ticket for technical or customer support.

**Section 1.5: Special Features**

- 1.5.1 The renter shall be able to request roadside assistance (ServiceRequest) if experiencing car trouble during an active booking.
- 1.5.2 The renter shall be able to receive navigation directions to the parking space location.

#### 2. Owner

**Section 2.3: Communication and Reviews**

- 2.3.1 The owner shall be able to message renters about bookings.
- 2.3.2 The owner shall be able to review renters after completed bookings.

**Section 2.4: Profile and Support**

- 2.4.2 The owner shall be able to submit support tickets for customer or technical support.

---

## Mockups/Storyboards

### Use Case 1: List a Parking Space

Owner uploads info, sets price, and posts availability. If the info is incomplete, app prompts for missing data.

![Use Case 1 ](../../images/UseCase1Storyboard.png)

---

### Use Case 2: List a Parking Space

Renter enters location, desired time. System shows nearby available spots on a map. If no spaces found, System suggests adjusting filters or dates.

![Use Case 2 ](../../images/UseCase2Storyboard.png)

---

### Use Case 3

Renter selects a spot, reviews details, and confirms booking. If payment fails, System prompts renter to retry or choose a different method.

![Use Case 3 ](../../images/UseCase3Storyboard.png)

---

### Use Case 4: Cancel a Booking

Renter or owner cancels before start time; system notifies the other party. If cancellation is too close to start, app enforces cancellation policy.

![Use Case 4 ](../../images/UseCase4Storyboard.png)

---

### Use Case 5

Renter and owner communicate about arrival or specific instructions. If inappropriate messages are detected, admin is alerted.

![Use Case 5 ](../../images/UseCase5Storyboard.png)

---

### Use Case 6: Owner Reviews bookings and Earnings

Owner checks upcoming/past bookings and income dashboard. If dashboard fails to load, app displays support contact.

![Use Case 6](../../images/UseCase6Storybook.png)

---

### Use Case 7: User Profile Management

User updates personal info, payment details, or preferences. If invalid info is entered, app requests corrections.

![Use Case 7](../../images/UseCase7Storybook.png)

---

### Use case 8

Renter finds nearby parking for late night shifts. If no safe spot is available, app suggests alternative options.

![Use Case 8](../../images/UseCase8Storybook.png)

---

### Use case 9

Renter with mobility challenges secures a nearby accessible parking spot. If no accessible spot is found, Stystem suggests the closest available options.

![Use Case 9 ](../../images/IMG_0490.jpg)

![Use Case 9 ](../../images/IMG_0495.jpg)

![Use Case 9 ](../../images/IMG_0496.jpg)

![Use Case 9 ](../../images/IMG_0497.jpg)

---

### Use Case 10: Car trouble in currently rented parking space

Renter requests roadside assistance when experiencing car trouble. System charges for extended stay, notifies spot owner of delay, and updates both parties when the spot is available again.

![Use Case 10](../../images/UseCase10Storyboard.png)

---

## High-Level System Design

### DBMS Selection

The SQL framework we decided upon is PostgreSQL, primarily because of its support of geographic data and spatial indexing. This is
especially important as our website revolves around both the renter and the owner having access to a map to find or place their
parking spots. Moreover, PostgreSQL allows for scalability, which will be useful as our website has no upper limit of users or data.
One final feature to note is PostgreSQL's security, which is critical for us since we will be dealing with personal information of
many users, such as credit card information.

### Database Organization

![Database Organization](../../images/ERD648.png)

---

### **Core Entities**

#### 1. **User**

- **Role:** Central to the system. Represents a person using the platform (can be an Owner, Renter, or Admin).

- **Attributes:** Includes identifying info (email, name), authentication (password hash), and role.

- **Relationships:**

  - _Owns or Rents_ a parking space.

  - _Creates_ Bookings, Reviews, Payments, Messages, and Support Tickets.

#### 2. **ParkingSpace**

- **Role:** Represents a rentable parking spot or space.

- **Attributes:** Location (lat/lon, address), price, availability, owner reference, amenities.

- **Relationships:**

  - _Belongs to_ an Owner (User).

  - _Has many_ Bookings, Reviews, Messages, etc.

#### 3. **Booking**

- **Role:** Tracks each time a Renter books a ParkingSpace.

- **Attributes:** Dates/times, status, amount, references to User (renter) and ParkingSpace.

- **Relationships:**

  - _Belongs to_ a User (Renter).

  - _Belongs to_ a ParkingSpace.

#### 4. **Payment/PaymentMethod**

- **Role:** Payment records and payment method management for users.

- **Attributes:** Amount, method, status, reference to Booking, User.

- **Relationships:**

  - _Belongs to_ a User.

  - _Linked to_ a Booking.

#### 5. **Review**

- **Role:** Ratings/comments left by Renters for Owners or ParkingSpaces.

- **Attributes:** Rating value, comment, references to User and ParkingSpace.

- **Relationships:**

  - _Belongs to_ a User (who leaves it).

  - _Belongs to_ a ParkingSpace.

#### 6. **Message**

- **Role:** Communication (chat, notifications) between Users, possibly about a specific Booking or ParkingSpace.

- **Attributes:** Text, timestamps, sender/recipient.

- **Relationships:**

  - _Linked to_ User(s), ParkingSpace, Booking, etc.

#### 7. **SupportTicket/Notification/AdminAction**

- **Role:** For platform support, notifications, and admin actions (moderation, tickets).

- **Attributes:** Ticket status, admin actions, notification details.

- **Relationships:**

  - _Linked to_ Users, Bookings, or other entities as needed.

---

### **Other Notable Elements**

- **Geospatial data**: ParkingSpace table includes latitude/longitude, supporting “find nearby” queries.

- **Role-Based Access**: User roles (admin/owner/renter) can be enforced by attributes and relationships.

- **Extensibility**: The ERD supports features like favorites, coupons, multi-factor auth, via additional tables/fields.

---

### **Relationship Summary**

- **One-to-many:**

  - One User can own many ParkingSpaces.

  - One ParkingSpace can have many Bookings and Reviews.

  - One User can create many Bookings and Reviews.

- **Many-to-many:**

  - Handled via join tables for features like favorites, notifications, etc.

---

### **What’s Happening: High-Level Flow**

1. **User (Renter) registers**, adds payment info.

2. **Owner lists a ParkingSpace**, sets price/location.

3. **Renter searches for nearby ParkingSpaces** (geolocation).

4. **Booking is created** by the Renter for a ParkingSpace.

5. **Payment is processed** and recorded.

6. **Messaging allows communication** between Renter and Owner.

7. **After booking**, Renter can leave a Review.

8. **Support, Admin, and Notification systems** keep the platform running smoothly.

---

### **Summary Table**

|Entity|Description|Key Relationships|
|---|---|---|
|User|Platform user (renter, owner, admin)|Owns ParkingSpaces, makes Bookings|
|ParkingSpace|Rentable parking spot|Belongs to Owner, has Bookings|
|Booking|Reservation by a renter|For ParkingSpace, by User|
|Payment|Transaction record|Linked to Booking, User|
|Review|Feedback left by a user|For ParkingSpace, by User|
|Message|Platform chat/communication|Linked to Booking, Users|
|...|Support, Notification, AdminAction, etc.|Linked as needed|

---

### **How to Read the Diagram**

- **Squares/Rectangles:** Entities (tables).

- **Diamonds:** Relationship connectors.

- **Ovals:** Attributes/fields.

- **Lines:** Relationships; direction shows “owns/has/makes/for.”

---

### Backend Architecture

![Scalability Diagram](../../images/new_systemM2.png)

## Architecture Summary

### 1. Microservices Architecture

- The backend is decomposed into multiple Django microservices (User, Parking, Booking, Review, Messaging, Payment, Admin/Support, Notification).

- Each microservice handles a specific domain (user authentication, booking management) and can be developed, deployed, and scaled independently.

- Services communicate over REST APIs, with some using async mechanisms for notifications/events.

### 2. Load Balancers

- AWS Application Load Balancer (ALB) is used as the main entry point for all web and API traffic.

- Requests first pass through an API Rate Limiter and API Gateway/ELB, then are routed by ALB to the correct backend service/container.

- The ALB also manages SSL termination (HTTPS), WebSockets, health checks, and path-based routing.

### 3. Caching Strategies

- AWS ElastiCache accompanied  by Django ORM is used to cache sessions, tokens, and frequently accessed data to minimize database load and improve performance.

- Services interact with ElastiCache for session/token validation and cache invalidation.

- Object storage (AWS S3) is used for static files, user uploads, and media (profile pictures, space photos).

### 4. Reliability and Fault Tolerance

- All services are containerized with Docker and run in an orchestrated environment (AWS ECS, behind VPC security groups).

- Multi-AZ PostgreSQL clusters with automated backups and read replicas provide high availability and disaster recovery for the database.

- Monitoring & Logging (CloudWatch) aggregates logs and metrics from all microservices for alerting, debugging, and autoscaling.

- The system is stateless, so containers can be restarted or replaced without data loss.

### 5. Containers

- Containers are orchestrated for lifecycle management and resource efficiency.

### 6. Data Replication and Consistency

- PostgreSQL cluster uses read replicas for analytics workloads, separating heavy reporting queries from transactional traffic.

- Automated, continuous backups ensure point-in-time recovery is possible.

- Consistency is guaranteed for critical data, while caches and replicas are asynchronously updated.

### 7. Security Considerations

- HTTPS (SSL/TLS) enforced end-to-end (terminated at ALB), protecting all client and internal traffic.

- JWT/OAuth is used for secure user authentication and API calls.

- AWS VPC Security Groups and firewalls isolate internal services from the public internet.

- Rate limiting and API Gateway mitigate abuse.

- User credentials are hashed using Argon2, providing strong resistance to brute-force attacks.

- Sensitive environment variables and secrets are managed securely via AWS.

### 8. Technologies Used

**Server:** AWS EC2 (Linux, WSL, Mac, Windows Dev Envs)

**Database:** PostgreSQL (multi-AZ, managed)

**Web Server:** AWS ALB (HTTPS, reverse proxy)

**Backend:** Python, Django

**Frontend:** Next.js (React, JS, CSS, HTML)

**Containerization:** Docker

**Object Storage:** AWS S3

**Caching:** AWS ElastiCache/Django ORM

**Monitoring:** AWS CloudWatch

**IDE:** VSCode, DBeaver

**Package Managers:** Poetry (Python), npm/yarn (JS)

**SSL:** Let’s Encrypt via AWS ELB

---

### UML Class Diagram

![UML Class Diagram](../../images/UML_Class_Diagram_M2_NM.png)

Our UML Class Diagram models the key entities and their interactions within the Parking Space Marketplace application. Core classes include `User`, `ParkingSpace`, `Booking`, `Payment`, and `Notification`, each directly reflecting the normalized database schema.

When designing the system, we decided to follow a **Model-View-Controller (MVC)** structure:

- **Models**: Handles and represents the entities.
- **Views/Controllers**: Handle the business logic using RESTful APIs.
- **Serializers**: Act as the interface layer between backend data and client-facing output.

The **Repository pattern** was used to isolate database logic in service-like components. This helps us and allows us to enhance:

- Our Modularity, as the business logic is not tightly coupled with data access
- Our Testability, as our services can be independently tested
- Our Maintainability, as it is easier to scale and extend the backend

---

### Network and Deployment Diagram

![Network&Deployment_Diagram](../../images/Network&Deploymen_DiagramV2.png)

This diagram was designed to show how our users devices (mobile, laptop, desktop) interact with our cloud-based system using the **HTTPS/TCP** protocols. The architecture includes:

- **Wireless Router** & **Firewall** for:
  - SSL encryption
  - JWT-based authentication
  - API rate limiting

- **Docker Containers**: Run both Django and Next.js apps
- **AWS ALB (Application Load Balancer)**: Routes HTTPS traffic to backend services and handles SSL termination
- **AWS EC2**: Hosts the application stack
- **Argon 2** for password hashing

It also includes external integrations through **HTTP/REST** with:

- **Google Maps API** – location & geocoding
- **Stripe API** – payments
- **OpenStreetMap API** – alternate map service

This layered and designed architecture for this diagram helps us ensure **security, scalability**, and **performance isolation** between services.

---

### Network Diagram

![Network_Diagram](../../images/NetworkV2_Diagram.png)

Our network diagram shows how users connect to our system through web browsers on phones or PCs using HTTPS/TCP. A request is made, then passed through a firewall with JWT authentication.

The traffic is then passed to **AWS ALB (Application Load Balancer)**, which handles SSL termination and forwards requests to our **AWS EC2** instance. The EC2 instance runs Docker containers that host our **Django backend** and **Next.js frontend** applications.

---

### Deployment Diagram

![Deployment_Diagram](../../images/DeploymentV2_Diagram.png)

Our system is deployed on one AWS EC2 cloud server that is connected to an AWS RDS instance.

Our EC2 instance runs the main web app with:

- Ubuntu OS
- AWS Application Load Balancer (ALB) handles HTTPS and request routing
- Docker container that includes:
  - Django backend
  - Next.js frontend

The RDS instance handles data storage with:

- PostgreSQL database
- Django ORM cache
- Organized schemas for users, bookings, parking spaces, and payments

External services like Google Maps, Stripe, and OpenStreetMap connect to our app to support maps and payments.

---

## High Level APIs and Main Algorithms

### Major APIs

- **User Authentication and Profiles**
  - **Registration & Login**

    - Secure endpoints for users to register (as either “renter” or “owner”) and log in.

    - Uses JWT-based authentication for stateless session management.

    - /api/me/ endpoint returns current authenticated user’s profile.

  - **Role-based Features**

    - Certain endpoints (listing a parking space) are only accessible to users with the "owner" role.

    - Profile Management

    - Users can view and update their profile information, including name, email, and role.

    - Password change and reset endpoints.

### User Authentication and Profile Diagram

![User_Authentication](../../images/UserAuth.png)

- **Google Maps APIs Integration**
  - **Address Autocomplete (Places API)**

    - When listing a parking space or searching, frontend uses Google Places Autocomplete to help users quickly select valid addresses.

- **Geocoding (Geocoding API)**

  - Backend or frontend converts human-readable addresses to latitude/longitude coordinates, stored with each parking space for mapping and proximity search.

- **Interactive Map (Maps JavaScript API)**

  - Frontend or backend displays all available parking spaces on an interactive map, letting users pan/zoom and click on map markers for more info.

- **Nearby Search**

  - Users can search for parking spaces near a specific location, address, or their device’s current geolocation.

### Google Maps API Diagram

![Google_Maps](../../images/GoogleMaps.png)

### Main Algorithms and Processes

**Secure Authentication & JWT Handling**

- **Argon2 Password Hashing**
  - All user passwords are hashed using the Argon2 algorithm before being stored in the database. Argon2 is a modern, memory-hard password hashing function considered highly secure and recommended by current best practices. It is used for password hashing because it’s currently the most secure option, specifically engineered to make brute force and hardware attacks extremely expensive for attackers.

- **JWT-based Authentication**

  - On registration or login, the backend issues a JWT (JSON Web Token) access token, which the client stores and uses to authenticate future requests.

- **Middleware Enforcement**

  - Protected API endpoints require a valid JWT in the Authorization header. Middleware checks the token and enforces permissions based on user authentication and roles.

- **No Plaintext Storage**

  - At no point are raw passwords stored or transmitted, only secure hashes using Argon2.

- **Address Geocoding & Map Display**

  - When a space is listed, the address is converted (geocoded) to coordinates.

  - Search endpoints return coordinates for all matching spaces, frontend displays these on the map using markers.

  - Distance calculation is done using Google’s APIs or Haversine formula if filtering on backend.

- **Role-Based Access Logic**

  - Certain endpoints check the user’s role (only owners and admin can create/edit spaces).

  - Frontend and backend both enforce these restrictions.

**4. Search Bar Functionality and Implementation**

Our team's search bar is implemented as a multi layered architecture that merges user input processing as well as geocoding and spatial database queries to give accurate parking space outcomes.

- **Frontend Search Interface**

  - Our search bar component is built using React with real time input validation as well as google places autocomplete integration.

  - If a user types something in the search bar the component makes API calls to google places and the API to recommend valid addresses as well as locations.

  - Our search function takes care of many input types which are full addresses and partial addresses as well as  landmark names and finally geographic coordinates.

- **Search Query Processing Algorithm**

  - If a user does a search query the frontend will send a get request to `/api/parking-spaces/search/` w/ parameters like query text and optional date/time filters as well as radius.

**New Tools or Frameworks**

**Google Maps JavaScript API:** Used on the frontend to display interactive maps and markers.

**Google Places API:** For autocomplete and address validation on the frontend.

**Google Geocoding API:** For converting addresses to coordinates in both frontend and backend.

---

# Key Project Risks

---

## Scheduling Risks

| Risk                   | Explanation                                                                     | How we’ll address it                                                                                 |
| ---------------------- | ------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| Unrealistic Deadlines  | Deadlines may not reflect actual development complexity.                        | Break down tasks into realistic milestones. Buffer for unforeseen work.                              |
| Limited Team Capacity  | Key team members may get sick, or be overloaded.                                | Cross-train team members, document everything, and maintain a shared task board                      |
| Task Dependencies      | Dependencies like third-party APIs or vendors may be delayed.                   | Parralelize work when possible, mock external services during dev, and have fallback  options        |
| Scope Creep            | Adding features mid-project delays the schedule.                                | Use strict change control: all scope changes must go through review. Maintain a prioritized backlog. |
| Integration Complexity | Integration between backend, frontend, and infrastructure may be underestimated | Allocate integration-specific time, conduct regular sync meetings between frontend/backend.          |
|Several classes         | Members may be distracted with projects in other classes they are taking as well | Set deadlines members must meet so they prioritize the assignment here.

---

## Technical Risks

| Risk                                | Explanation                                                           | How we’ll address it                                                                                 |
| ----------------------------------- | --------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| Cloud Reliability (AWS)             | EC2 or AWS outages may disrupt uptime.                                | Use auto-recovery instances, backups, and explore multi-region setups if needed.                     |
| Docker Misconfiguration             | Incorrect container setup can cause failures across environments.     | Use minimal images, define consistent docker-compose files, and test locally before pushing.         |
| Cross-Platform Dev Issues           | Different OS setups (Windows, macOS, Linux Mint) might cause bugs.    | Standardize dev with Docker/WSL; use automated CI pipelines to catch inconsistencies.                |
| Package Vulnerabilities             | Dependencies from npm, or Poetry may be insecure or deprecated. | Run regular audits with npm audit and poetry check; automate alerts with GitHub Dependabot.          |
| Integration Bugs (Django + Next.js) | Backend/frontend integration may cause runtime issues.                | Write integration tests early, conduct interface meetings within the team, and test APIs in Postman. |
| Database Performance Bottlenecks    | Because of pretty high traffic during the peak hours this may cause slow search results as well as booking delays. | we will optimize location based queries and add database indexes on frequently searched columns as well as implement connection pooling so it can handle many users. |
| Google Maps API Rate Limits         | Going past API quotas may potentially break search and geocoding features. | Implement API request caching and rate limiting as well as consider backup geocoding services. |
| Memory Leaks in Node.js Frontend    | Improper React state management could potentially cause client side crashes. | Use React DevTools for profiling and implement proper cleanup in useEffect hooks. |
| SSL Certificate Management          | Manual certificate renewal may possibly lead to https failures. | Automate certificate renewal with let's encrypt and monitor expiration dates. |
| PostgreSQL Connection Exhaustion    | Simultaneous users could potentially overtire database connections. | Configure connection pooling and implement connection limits as well as and monitor database performance. |
| Search Query Performance Issues     | Complex spatial queries could maybe become slow with big datasets. | Implement database indexes on geographic columns as well as query optimization and result pagination. |
| Third Party Service Dependencies    | Google Maps service issues/outages may potentially break core functionality. | Implement fallback mechanisms as well as service health monitoring and degradation. |

## Legal/Content Risk

| Risk                          | Explanation                                                              | How we’ll address it                                                                      |
| ----------------------------- | ------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------- |
| Open Source License Conflicts | Using libraries with restrictive licenses may create legal issues.       | Verify that all dependencies use permissive licenses.                                     |
| Data Privacy Compliance       | Storing or processing user data without safeguards can violate GDPR/CCPA | Encrypt all sensitive data, anonymize where possible, and publish a clear privacy policy. |
| SSL Certificate Expiry        | Auto-renewal failure could break HTTPS, impacting legal compliance.      | Monitor the certificate via uptime tools; fall back to manual renewal if auto fails.      |
| Content Ownership             | Using unlicensed media could result in copyright issues.                 | Only use content from verified royalty-free or owned sources, with licenses documented.   |

---

## Project Management

For milestone 2, we divided up the work based on the roles established in milestone 1. For example, the frontend team worked on
storyboards while the backend team worked on the backend architecture. To ensure we were on track, we met mutliple times throughout
the week via Zoom. More importantly, these meetings also served as a chance to reallocate work if one person's workload proved to be
too much or too little. Such was the case with storyboarding, which was divided up even more when other members finished their share
of work. This continued until we finished the second milestone. With this in mind, our plan to manage future tasks will follow a similar
pattern. We will divide the work in the beginning, reallocating work as time goes on. We plan to continue meeting multiple times a week
through Zoom, to ensure we are advancing at a desirable rate and because talking live can be more productive than just sending messages.
If we encounter any problems, then we shall mention it in the group discord or in the next Zoom meeting if the problem is too complicated
to explain through discord.

---

## List of Team Contributions

| Team Member  | Contributions                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Nathaniel 7  | Network + Deployment Design Diagrams & content                                                                                                                                                                                                                                                                                                                                                                                                 |
| El Juliana 6 | Use case 6, 7, 8; Added scheduling, technical, legal content risks table                                                                                                                                                                                                                                                                                                                                                                       |
| Krishna 10   | Merge; Updated search bar, made prof page, log in save, home page, adding pics; Added search bar, few pages and updated styling; Added Use Case 9 sketch                                                                                                                                                                                                                                                                                       |
| Juan 10      | Added use case 10 storyboard; First draft for Project Management; Added explanation to DBMS Selection; Added more functional requirement priorities; Added Use Case Story boards 1 through 5; Organized prioritized functional requirements table; First draft of prioritized functional requirements; Fixed Priority Table; Added Priority Table; Added to the Skeleton of M2                                                                 |
| Stella 10    | Data items & entities tables; Updating backend, models, views, serializers, urls, settings; Adding AWS tools; Data definitions & entity tables; ERD first draft; ERD additional content; History table; Revising FR; Functional Requirement ranking; The entire backend; Google maps + next api + homegrown user auth api; Views and serializers; Connecting backend to frontend; Docker containers; Entity Tables; High Level System Design, API diagrams and content |
| Fatma 2      | Updated ERD; Use Case 10                                                                                                                                                                                                                                                                                                                                                                                                                       |

### M3

# SW Engineering CSC648-848-05 Summer 2025, T05: Parking Space Marketplace

# Milestone 3 V2

## Project/Application Title: Parking Space Marketplace

**Date:** July 22nd 2025

**Link to site:** `http://52.52.40.129:3000/`

---

### History Table

| Milestone | Version | Date           |
|-----------|---------|----------------|
| M3        | V1      | July 22nd 2025 |
| M2        | V2      | July 22nd 2025 |
| M2        | V1      | July 3rd 2025  |
| M1        | V2      | June 23rd 2025 |
| M1        | V1      | June 17th 2025 |

---

## Team

| Student | Full Name             | SFSU Email             | GitHub Username      | Discord Username      | Role(s)                      |
|:-------:|:---------------------:|:----------------------:|:--------------------:|:---------------------:|:-----------------------------:|
|    #1   | Stella Parker         | <sparker11@sfsu.edu>     | @whoIsStella         | latchkeykid           | Team-lead / Backend-Lead/GitHub Master/Scrum Master |
|    #3   | Nathaniel Moreno      | <nmoreno@sfsu.edu>       | @NateM03             | ba_daniels            | Database Administrator        |
|    #4   | Fatma Almosawi        | <falmosawi@sfsu.edu>     | @fatma-al            | fatma.almosawi        | Scrum Master                  |
|    #5   | Krishna Shenoy        | <920875953@sfsu.edu>     | @krishs44            | krishnashenoy_71520   | Technical Writer              |
|    #6   | Juan Daniel Ramirez   | <jramirez9@sfsu.edu>     | @JuanDanielRamirez   | juanramirez_05991     | Frontend Lead                 |
|    #7   | Julianna Embalzado    | <eembalzado@mail.sfsu.edu> | julianna-embalzado | jejemon6201           | Software Architect            |

---

### Table of Contents

1. [Data Definitions](#data-definitions)
2. [Prioritized High-Level Functional Requirements](#prioritized-high-level-functional-requirements)
3. [UI/UX Wireframes](#ui/ux-wireframes)  
4. [High-Level System Design](#high-level-system-design)  
5. [Key Project Risks](#key-project-risks)  
6. [Project Management](#project-management)  
7. [List of Team Contributions](#list-of-team-contributions)  

---

## Data Definitions

### User

| Attribute            | Type           | Constraints / Notes                                                                 |
|----------------------|----------------|-------------------------------------------------------------------------------------|
| user_id              | UUID           | PK, unique, not null, auto-generated                                                |
| email                | VARCHAR(254)   | unique, not null, must be valid email, indexed                                      |
| password_hash        | VARCHAR(255)   | not null (argon2, salted, managed by Django)                                        |
| first_name           | VARCHAR(100)   | not null                                                                            |
| last_name            | VARCHAR(100)   | not null                                                                            |
| phone_number         | VARCHAR(20)    | nullable, validated                                                                 |
| role                 | ENUM           | 'renter', 'owner', 'admin'; not null, indexed                                       |
| mfa_enabled          | BOOLEAN        | default: false                                                                      |
| is_active            | BOOLEAN        | default: true                                                                       |
| created_at           | TIMESTAMP      | auto-set on creation                                                                |
| profile_image_url    | VARCHAR(300)   | nullable; image (<5MB, jpg/png/webp, 512x512 max)                                   |
| address              | VARCHAR(255)   | nullable; for owner payout/tax, user personalization                                |
| vehicle_license      | VARCHAR(20)    | nullable; for renters, validated, format: country-specific                          |
| accessibility_needs  | TEXT           | nullable; e.g., wheelchair access required                                          |
| notification_prefs   | JSON           | default: empty dict (e.g., email: true, sms: false, push: true)                     |
| is_staff             | BOOLEAN        | default: false (Django admin/staff)                                                 |
| is_superuser         | BOOLEAN        | default: false (Django admin/superuser)                                             |

---

### ParkingSpace

| Attribute              | Type           | Constraints / Notes                                                                 |
|------------------------|----------------|-------------------------------------------------------------------------------------|
| space_id               | UUID           | PK, unique, not null, auto-generated                                                |
| owner_id               | UUID           | FK to User (owner), not null                                                        |
| address                | VARCHAR(255)   | not null, geocoded for map                                                          |
| latitude               | FLOAT          | not null                                                                            |
| longitude              | FLOAT          | not null                                                                            |
| description            | TEXT           | not null, 1-1000 chars                                                              |
| price_per_hour         | DECIMAL(8,2)   | not null, >=0, USD                                                                  |
| price_per_day          | DECIMAL(8,2)   | nullable, >=0, USD                                                                  |
| is_accessible          | BOOLEAN        | default: false (accessible features for ADA)                                        |
| features               | JSON           | nullable, e.g., ev_charging: true, covered: true, size: "XL"                        |
| images                 | JSON           | array of image URLs (<10, each <5MB, jpg/png/webp, 1024x768)                        |
| status                 | ENUM           | 'active', 'unlisted', 'pending', 'banned'; not null, indexed                        |
| rules                  | TEXT           | nullable; e.g., “No overnight parking, call if late”                                |
| created_at             | TIMESTAMP      | auto-set on creation                                                                |
| updated_at             | TIMESTAMP      | auto-set on update                                                                  |
| availability_schedule  | JSON           | e.g., mon:[8-18], tue:[8-18], ...                                                   |

---

### Booking

| Attribute            | Type           | Constraints / Notes                                                                 |
|----------------------|----------------|-------------------------------------------------------------------------------------|
| booking_id           | UUID           | PK, unique, not null, auto-generated                                                |
| space_id             | UUID           | FK to ParkingSpace, not null                                                        |
| renter_id            | UUID           | FK to User (renter), not null                                                       |
| owner_id             | UUID           | FK to User (owner), not null                                                        |
| start_time           | TIMESTAMP      | not null, UTC                                                                       |
| end_time             | TIMESTAMP      | not null, UTC                                                                       |
| status               | ENUM           | 'pending', 'confirmed', 'canceled', 'completed', 'no-show'; not null, indexed       |
| amount_total         | DECIMAL(8,2)   | not null, >=0, USD                                                                  |
| payment_id           | UUID           | FK to Payment, nullable (pending booking)                                           |
| cancellation_reason  | VARCHAR(255)   | nullable                                                                            |
| created_at           | TIMESTAMP      | auto-set on creation                                                                |
| last_updated         | TIMESTAMP      | auto-set on update                                                                  |
| review_left          | BOOLEAN        | default: false                                                                      |

---

### Payment

| Attribute           | Type           | Constraints / Notes                                                                 |
|---------------------|----------------|-------------------------------------------------------------------------------------|
| payment_id          | UUID           | PK, unique, not null, auto-generated                                                |
| booking_id          | UUID           | FK to Booking, not null                                                             |
| user_id             | UUID           | FK to User (payer), not null                                                        |
| amount              | DECIMAL(8,2)   | not null, >=0, USD                                                                  |
| status              | ENUM           | 'pending', 'succeeded', 'failed', 'refunded', 'disputed'; default: 'pending'        |
| payment_method_id   | UUID           | FK to PaymentMethod, not null                                                       |
| created_at          | TIMESTAMP      | auto-set on creation                                                                |
| refunded_at         | TIMESTAMP      | nullable                                                                            |
| transaction_ref     | VARCHAR(100)   | Stripe/PayPal reference, unique                                                     |

---

### PaymentMethod

| Attribute           | Type           | Constraints / Notes                                                                 |
|---------------------|----------------|-------------------------------------------------------------------------------------|
| payment_method_id   | UUID           | PK, unique, not null, auto-generated                                                |
| user_id             | UUID           | FK to User, not null                                                                |
| card_brand          | VARCHAR(20)    | 'Visa', 'MasterCard', 'Amex', 'PayPal', etc.                                        |
| last4               | VARCHAR(4)     | not null                                                                            |
| expiry_month        | INT            | 1-12                                                                                |
| expiry_year         | INT            | four-digit year                                                                     |
| is_default          | BOOLEAN        | default: false                                                                      |
| token               | VARCHAR(255)   | Encrypted; never store raw PAN                                                      |
| created_at          | TIMESTAMP      | auto-set on creation                                                                |

---

### Message

| Attribute        | Type           | Constraints / Notes                                                                 |
|------------------|----------------|-------------------------------------------------------------------------------------|
| message_id       | UUID           | PK, unique, not null, auto-generated                                                |
| sender_id        | UUID           | FK to User (sender), not null                                                       |
| recipient_id     | UUID           | FK to User (recipient), not null                                                    |
| booking_id       | UUID           | FK to Booking, nullable (general or support)                                        |
| content          | TEXT           | not null, 1-2000 chars, profanity check                                             |
| sent_at          | TIMESTAMP      | auto-set on creation                                                                |
| is_flagged       | BOOLEAN        | default: false                                                                      |
| flagged_reason   | VARCHAR(100)   | nullable, e.g., 'abusive', 'spam'                                                   |

---

### Review

| Attribute      | Type           | Constraints / Notes                                                                 |
|----------------|----------------|-------------------------------------------------------------------------------------|
| review_id      | UUID           | PK, unique, not null, auto-generated                                                |
| author_id      | UUID           | FK to User (author), not null                                                       |
| booking_id     | UUID           | FK to Booking, not null                                                             |
| target_type    | ENUM           | 'user', 'space'; not null, indexed                                                  |
| target_id      | UUID           | FK to User or ParkingSpace, not null, indexed                                       |
| rating         | INT            | 1-5 stars, not null                                                                 |
| comment        | TEXT           | nullable, 1-1000 chars                                                              |
| created_at     | TIMESTAMP      | auto-set on creation                                                                |
| is_visible     | BOOLEAN        | default: true (admin can hide)                                                      |

---

### AdminAction

| Attribute      | Type           | Constraints / Notes                                                                 |
|----------------|----------------|-------------------------------------------------------------------------------------|
| action_id      | UUID           | PK, unique, not null, auto-generated                                                |
| admin_id       | UUID           | FK to User (admin), not null                                                        |
| user_id        | UUID           | FK to User, nullable (target)                                                       |
| action_type    | ENUM           | 'ban', 'warn', 'refund', 'edit', 'resolve_ticket', 'other'; not null, indexed       |
| reason         | TEXT           | not null, 1-500 chars                                                               |
| created_at     | TIMESTAMP      | auto-set on creation                                                                |

---

### ServiceRequest

| Attribute     | Type           | Constraints / Notes                                                                 |
|---------------|----------------|-------------------------------------------------------------------------------------|
| request_id    | UUID           | PK, unique, not null, auto-generated                                                |
| booking_id    | UUID           | FK to Booking, not null                                                             |
| user_id       | UUID           | FK to User, not null                                                                |
| service_type  | ENUM           | 'roadside', 'unlock', 'other'; not null, indexed                                    |
| status        | ENUM           | 'pending', 'in_progress', 'resolved', 'canceled'; not null, indexed                 |
| created_at    | TIMESTAMP      | auto-set on creation                                                                |
| resolved_at   | TIMESTAMP      | nullable                                                                            |
| notes         | TEXT           | nullable                                                                            |

---

### Notification

| Attribute        | Type           | Constraints / Notes                                                                 |
|------------------|----------------|-------------------------------------------------------------------------------------|
| notification_id  | UUID           | PK, unique, not null, auto-generated                                                |
| user_id          | UUID           | FK to User, not null                                                                |
| type             | ENUM           | 'booking', 'payment', 'cancel', 'support', 'alert'; not null, indexed               |
| content          | TEXT           | not null, 1-500 chars                                                               |
| is_read          | BOOLEAN        | default: false, indexed                                                             |
| sent_at          | TIMESTAMP      | auto-set on creation                                                                |

---

### EarningsDashboard (optional/reporting)

| Attribute       | Type           | Constraints / Notes                                                                 |
|-----------------|----------------|-------------------------------------------------------------------------------------|
| owner_id        | UUID           | FK to User, not null                                                                |
| period          | ENUM           | 'daily', 'weekly', 'monthly', 'all_time'                                            |
| total_earnings  | DECIMAL(10,2)  | not null, USD                                                                       |
| num_bookings    | INT            | not null                                                                            |
| last_updated    | TIMESTAMP      | auto-set on update                                                                  |

---

## Prioritized High-Level Functional Requirements

### Priority 1

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.1 The renter shall be able to search for parking spaces by address.
- 1.1.2 The renter shall be able to search for parking spaces by date and time.
- 1.1.3 The renter shall be able to view parking spaces on an interactive map.

**Section 1.2: Booking and Payment**

- 1.2.1 The renter shall be able to create a booking for a selected parking space.
- 1.2.2 The renter shall be able to select the desired date and time for the booking.
- 1.2.3 The renter shall be able to pay for a booking using multiple payment methods.
- 1.2.4 The renter shall be able to save, update, and remove payment methods from their account.
- 1.2.5 The renter shall be able to receive payment confirmations and notifications regarding the status of their booking.
- 1.2.6 The renter shall be able to cancel a booking, subject to the applicable refund policy.

**Section 1.4: Profile and Communication**

- 1.4.3 The renter shall be able to message the parking space owner about a booking.

#### 2. Owner

**Section 2.1: Listing and Managing Parking Spaces**

- 2.1.1 The owner shall be able to create a new parking space listing by providing address, photos, description, amenities, accessibility features, and pricing.
- 2.1.2 The owner shall be able to set and edit availability windows for each parking space.
- 2.1.3 The owner shall be able to update details or remove an existing parking space listing.

**Section 2.2: Managing Bookings and Earnings**

- 2.2.1 The owner shall be able to view and manage all bookings for their parking spaces.
- 2.2.2 The owner shall be able to accept or decline incoming booking requests.
- 2.2.5 The owner shall be able to update their banking/payment information to receive payouts.

**Section 2.3: Communication and Reviews**

- 2.3.3 The owner shall be able to set specific rules for each parking space.

**Section 2.4: Profile and Support**

- 2.4.1 The owner shall be able to update their profile and contact details.

#### 3. Admin

**Section 3.1: User and Content Management**

- 3.1.1 The admin shall be able to view and manage all user accounts (renters, owners, admins).
- 3.1.2 The admin shall be able to suspend or ban user accounts as needed.
- 3.1.3 The admin shall be able to monitor and moderate user-generated content, including listings, messages, reviews, and booking records.
- 3.1.4 The admin shall be able to flag, remove, or edit inappropriate content or reviews.
- 3.1.5 The admin shall be able to handle disputes between users and perform admin actions (warnings, penalties, etc.).

**Section 3.2: Payments and Analytics**

- 3.2.1 The admin shall be able to view and manage all payments and transactions.
- 3.2.2 The admin shall be able to issue refunds and adjust commission or platform fees.
- 3.2.3 The admin shall be able to generate financial reports, analytics, and usage metrics.
- 3.2.4 The admin shall be able to monitor system health and performance.

#### 4. All Users

**Section 4.1: Account Management and Access**

- 4.1.1 All users shall be able to register for an account.
- 4.1.2 All users shall be able to log in securely.
- 4.1.3 All users shall be able to reset a forgotten password.
- 4.1.4 All users shall be able to delete their account.

**Section 4.2: General Features**

- 4.2.2 All users shall be able to view the privacy policy and terms of service.
- 4.2.3 All users shall be able to manage notification preferences.

---

### Priority 2

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.5 The renter shall be able to sort parking space search results by relevance, price, or distance.
- 1.1.6 The renter shall be able to view detailed information for each parking space, including photos, description, accessibility features, and owner-defined rules.

**Section 1.3: Managing Bookings and Reviews**

- 1.3.1 The renter shall be able to view a list of upcoming and past bookings.
- 1.3.2 The renter shall be able to extend an active booking, subject to availability.
- 1.3.3 The renter shall be able to leave a review for a completed booking or parking space.
- 1.3.4 The renter shall be able to report issues with a parking space or booking.

**Section 1.4: Profile and Communication**

- 1.4.1 The renter shall be able to update their profile information (contact details, vehicle info, accessibility needs).
- 1.4.2 The renter shall be able to manage notification preferences (receive booking reminders, payment alerts via app/email/SMS).

#### 2. Owner

**Section 2.1: Listing and Managing Parking Spaces**

- 2.1.4 The owner shall be able to temporarily unlist a parking space from the marketplace.

**Section 2.2: Managing Bookings and Earnings**

- 2.2.3 The owner shall be able to receive booking notifications and cancellation alerts.
- 2.2.4 The owner shall be able to access an Earnings Dashboard displaying income by period and booking history.

#### 3. Admin

**Section 3.3: Platform Settings and Policies**

- 3.3.1 The admin shall be able to update platform terms, conditions, and privacy policy.
- 3.3.2 The admin shall be able to configure notification and penalty settings.

#### 4. All Users

**Section 4.2: General Features**

- 4.2.1 All users shall be able to access the help center or FAQ.

---

### Priority 3

#### 1. Renter

**Section 1.1: Searching and Viewing Parking Spaces**

- 1.1.4 The renter shall be able to filter parking spaces by price, distance, amenities (e.g., EV charging, covered), vehicle size compatibility, and accessibility status.

**Section 1.4: Profile and Communication**

- 1.4.4 The renter shall be able to access help resources and submit a support ticket for technical or customer support.

**Section 1.5: Special Features**

- 1.5.1 The renter shall be able to request roadside assistance (ServiceRequest) if experiencing car trouble during an active booking.
- 1.5.2 The renter shall be able to receive navigation directions to the parking space location.

#### 2. Owner

**Section 2.3: Communication and Reviews**

- 2.3.1 The owner shall be able to message renters about bookings.
- 2.3.2 The owner shall be able to review renters after completed bookings.

**Section 2.4: Profile and Support**

- 2.4.2 The owner shall be able to submit support tickets for customer or technical support.

---

## UI/UX Wireframes

### Use Case 1: List a Parking Space

Owner uploads info, sets price, and posts availability. If the info is incomplete, app prompts for missing data.

1. User arrives to Landing Page.

![Landing Page](../../images/Landing%20Screen.png)

2. User Lists a Parking Space, which requires an account.

![Create Account](../../images/Making%20an%20Account%20Screeen.png)

3. User fills relavent information on parking spot.

![Parking Spot Info 1](../../images/Address.png)

![Parking Spot Info 2](../../images/Parking%20Photo.png)

![Parking Spot Info 3](../../images/Additional%20Details.png)

![Parking Spot Info 4](../../images/Availability.png)

4. Parking spot is confirmed for user.

![Confirmation Page](../../images/Confirmation%20Screen.png)

Note: Prototype can only move across other screens by pressing relavent buttons. No other functionality has been implemented.
[Figma prototype link](https://www.figma.com/proto/TgTctzgJgg4SWZn4Thq4ka/Use-Case-1?node-id=0-1&t=Ja8rnrCBGujVaUQL-1)

---

### Use Case 2: List a Parking Space

Renter enters location, desired time. System shows nearby available spots on a map. If no spaces found, System suggests adjusting filters or dates.

1. User arrives at the landing page.

![Landing Page](../../images/Landing%20Screen.png)

2. User signs in.

![Sign In Page](../../images/Sign%20in.png)

3. User enters destination

![Choose Destination](../../images/Choose%20Destination.png)

![See Results](../../images/See%20Results.png)

[Figma prototype link](https://www.figma.com/proto/TgTctzgJgg4SWZn4Thq4ka/Wireframes?node-id=72-109&t=kBvrWhHS0SsZpBLD-1)

---

### Use Case 3

Renter selects a spot, reviews details, and confirms booking. If payment fails, System prompts renter to retry or choose a different method.

1. User clicks find booking tab and sees the available listings nearby with Google Maps showing.

![Booking Page](../../images/BookingPage1_NM.png)

2. The user sees the details of the parking spot and confirms the booking with the card already on file. But is prompted with a failed payment attempt

![Booking Page](../../images/BookingPage2_NM.png)

3. The user retries the payment method, and the booking is confirmed.

![Booking Page](../../images/BookingPage3_NM.png)

[Figma prototype link](https://www.figma.com/proto/ZkByYnUy7o5a9zw7MH6XUe/Untitled?node-id=1-7&p=f&t=GaCOPF9btbzHh6p4-1&scaling=min-zoom&content-scaling=fixed&page-id=0%3A1)

---

### Use Case 4: Cancel a Booking

Renter or owner cancels before start time; system notifies the other party. If cancellation is too close to start, app enforces cancellation policy.

1. The renter goes to his bookings to cancel a booking before the start time.

![Booking Page](../../images/CancelPage1_NM.png)

2. Renter sees his bookings and selects cancel on the one he wants to cancel, but is told it is less than a 24-hour notice and will still be charged the cancellation fee, it then states the other party (owner) will be notified.

![Booking Page](../../images/CancelPage2_NM.png)

[Figma prototype link](https://www.figma.com/proto/lO5zwkhSXOPDxv1qx7QKXK/Use-Case-4_Work_Frame?node-id=22-38&p=f&t=tq7Pmw2TUX7zCF7V-1&scaling=min-zoom&content-scaling=fixed&page-id=1%3A2)

---

### Use Case 5

Renter and owner communicate about arrival or specific instructions. If inappropriate messages are detected, admin is alerted.

1. Owner gets a message from the renter about a miscommunication regarding the lot availability.

![Chat Interface: Owners Point of View](../../images/wireframeUC5_p1.png)

2. Renter becomes unhappy because the lot is not available yet.

![Chat Interface: Owners Point of View](../../images/wireframeUC5_p2.png)

3. Renter violates community guidelines and the owner can safely block the user and cancel their service.

![Chat Interface: Renters Point of View](../../images/wireframeUC5_p3.png)

[Figma prototype link](https://www.figma.com/proto/a0NpAxw9OTuyJc2zUJPBSE/Wireframes--Copy-?node-id=2006-531&p=f&t=TvSEcpkIoLUycC1q-1&scaling=min-zoom&content-scaling=fixed&page-id=2002%3A271)

---

### Use Case 6: Owner Reviews bookings and Earnings

Owner checks upcoming/past bookings and income dashboard. If dashboard fails to load, app displays support contact.

1. Ownwer Dashboard Interface: Owners Point of View

![Ownwer Dashboard Interface: Owners Point of View](../../images/wireframeUC6_p1.png)

2. Owner Dashboard Interface: Owner's point of view, hover tool-tip to generate report.

![Ownwer Dashboard Interface: Owners point of view, hover tool-tip to genorate report](../../images/wireframeUC6_p2.png)

3. Ownwer Dashboard Interface: Owners point of view, 404 error.

![Ownwer Dashboard Interface: Owners Point of View, 404](../../images/wireframeUC6_p3.png)

4. Chat Interface: Owner's point of view, interacting with customer support.

![Chat Interface: Owners Point of View, interacting with customer support](../../images/wireframeUC6_p4.png)

1. Owner Dashboard Interface: Owners point of view, YTD earnings report successfully generated.

![Ownwer Dashboard Interface: Owners Point of View, YTD earnings report sucsess](../../images/wireframeUC6_p5.png)

[Figma prototype link](https://www.figma.com/proto/a0NpAxw9OTuyJc2zUJPBSE/Wireframes--Copy-?node-id=2021-184&p=f&t=jLq4z1yubKHIPm0L-1&scaling=min-zoom&content-scaling=fixed&page-id=2001%3A17&starting-point-node-id=2021%3A184)

---

### Use Case 7: User Profile Management

User updates personal info, payment details, or preferences. If invalid info is entered, app requests corrections.

1. User opens account settings.
2.

![Account Settings](../../images/UseCase7AccountSetting.png)

1. User can see information on account settings.
![Personal Information Section](../../images/UseCase7PersonalInfoSection.png)

1. User edits information on account settings.
![Edit Personal Information](../../images/UseCase7EditPersonalInfo.png)

1. User sees confirmation that changes are made successfully.
![Edit Success Confirmation](../../images/UseCase7EditConfirmation.png)

[Figma Prototype Link](https://www.figma.com/proto/GHQzqtmbrefRDwCMFYcFkh/Use-Cases?node-id=0-1&t=xrZh1cc6bUYfVGmz-1)
---

### Use case 8

Renter finds nearby parking for late night shifts. If no safe spot is available, app suggests alternative options.

1. User searches for parking nearby.

![Search Page](../../images/UseCase8Frame1.png)

2. User filters the search to include safety features.

![Filter Page](../../images/UseCase8Frame2.png)

3. User gets list of refined results.

![Refined Results Page](../../images/UseCase8Frame3.png)

4. User clicks on a spot to get more details.

![Spot Info Page](../../images/UseCase8Frame4.png)

5. User fills in payment info.

![Payment Page](../../images/UseCase8Frame5.png)

6. User gets confirmation message.

![Confirmation Page](../../images/UseCase8Frame6.png)

[Figma prototype link](https://www.figma.com/proto/euoVE4xqXbbVdHIf96GzSh/UseCase8?node-id=0-1&t=yaIdHo0FpeZkNFgC-1)

---

### Use Case 9

Renter with mobility challenges secures a nearby accessible parking spot. If no accessible spot is found, Stystem suggests the closest available options.

1. User sees the landing page of the website

  ![Landing Page](../../images/UseCase9LandingPage.png)

2. User goes to the Sign in page

  ![Sign in Page](../../images/UseCase9SigninPage.png)

3. User sees the search page of different parking spots available to rent

  ![Search Page](../../images/UseCase9SearchPage.png)

4. User books the parking spot

  ![Booking Page](../../images/UseCase9Booking.png)

5. User sees confirmation that booking was successful

  ![Booking Confirmation](../../images/UseCase9BookingConfirmation.png)

[Figma Prototype Link](https://www.figma.com/proto/GHQzqtmbrefRDwCMFYcFkh/Use-Cases?node-id=5-6025&t=rcNlItLQI4WeQJFb-1)

---

### Use Case 10: Car trouble in currently rented parking space

Renter requests roadside assistance when experiencing car trouble. System charges for extended stay, notifies spot owner of delay, and updates both parties when the spot is available again.

1. Renter/user is having car trouble and navigates through the application, choosing "Roadside service" located at the top right of the screen.

![Roadside assist 1](../../images/1.png)

2. Renter/user fills out all the designated boxes with their information on the request. When they are done they will click "Request Assistance" located at the bottom right of the screen.  

![Roadside assist 2](../../images/2.png)

3. System processes the renter/user's request and will let owner know about this delay and charge the renter/user for the extra time they will be on the owner's property.

![Roadside assist 3](../../images/3.png)

[Figma prototype link](https://www.figma.com/proto/5GfvM2d4g0DMdtHbKf8vyJ/Use-case-10?node-id=0-1&t=QELkUpakjgN3oUyg-1)

---

## High-Level System Design

### High-Level Database Architecture

- **Entity-Relationship Diagram (ERD):**

![Database Organization](../../images/ERD648.png)

- **Enhanced Entity-Relationship (EER) Diagram:**
  
![Database Organization](../../images/EER.png)

### Backend Architecture

![Backend Architecture](../../images/new_system.png)

---

---

## List of Team Contributions

| Team Member |                       Contributions                           |
| ----------  | ------------------------------------------------------------- |
| Nathaniel  2 |  Diagrams+documentation+ usecases                                                             |
| El Juliana 0 | usecases                                                          |
| Krishna  8   |  use case 10+9                                                            |
| Juan    4.5    |   moral+scrum+use cases                                                          |
| Stella   10   |  All of the backend, 65% of the frontend api dia grams                                                            |
| Fatma     0  |  ERD                                                              |

### M4

# SW Engineering CSC648-848-05 Summer 2025, T05: Parking Space Marketplace

# Milestone 4 V2

## Project/Application Title: Parking Space Marketplace

**Date:** August 5th 2025

**Link to site:** `http://52.52.40.129:3000/`

---

### History Table

| Milestone | Version | Date 07/31/2025|
|-----------|---------|----------------|
| M4        | V2      | August 5th 2025 |
| M4        | V1      | July 31st 2025 |
| M3        | V2      | July 31st 2025 |
| M3        | V1      | July 22nd 2025 |
| M2        | V2      | July 22nd 2025 |
| M2        | V1      | July 3rd 2025  |
| M1        | V2      | June 23rd 2025 |
| M1        | V1      | June 17th 2025 |

---

## Team

| Student | Full Name             | SFSU Email             | GitHub Username      | Discord Username      | Role(s)                      |
|:-------:|:---------------------:|:----------------------:|:--------------------:|:---------------------:|:-----------------------------:|
|    #1   | Stella Parker         | <sparker11@sfsu.edu>     | @whoIsStella         | latchkeykid           | Team-lead / Backend-Lead/GitHub Master/Scrum Master |
|    #3   | Nathaniel Moreno      | <nmoreno@sfsu.edu>       | @NateM03             | ba_daniels            | Database Administrator        |
|    #4   | Fatma Almosawi        | <falmosawi@sfsu.edu>     | @fatma-al            | fatma.almosawi        | Scrum Master                  |
|    #5   | Krishna Shenoy        | <920875953@sfsu.edu>     | @krishs44            | krishnashenoy_71520   | Technical Writer              |
|    #6   | Juan Daniel Ramirez   | <jramirez9@sfsu.edu>     | @JuanDanielRamirez   | juanramirez_05991     | Frontend Lead                 |
|    #7   | Julianna Embalzado    | <eembalzado@mail.sfsu.edu> | julianna-embalzado | jejemon6201           | Software Architect            |

---

### Table of Contents

1. [Product Summary](#product-summary)
2. [Usability Test Plan](#usability-test-plan)
3. [QA Test Plan](#qa-test-plan)  
4. [Localization Testing](#localization-testing)  
5. [Code Review](#code-review)  
6. [Security Practices](#security-practices)
7. [Adherence to Non-functional Specs](#adherence-to-non-functional-specs)
10. [List of Team Contributions](#list-of-team-contributions)

---

## Product Summary

### Product Name

ParkSpace

### Final Priority 1 and 2 Requirements

#### Renter

**Searching and Viewing Parking Spaces**

Renters have a lot of freedom in searching a space. They can sort by date, time, price, etc, or they can use the interactive map to find the perfect parking spot. Moreover, renters can learn more about a specific parking spot, such as photos, the owner's rules, and any unique features regarding the spot.

**Booking and Payment**

Just like searching a space, ParkSpace gives the renter a lot of fredom in booking a space. Renters can decide when and for how long they want to rent out a parking space. They have multiple ways to pay for the sapce, and they have the right to cancel and refund, as long as they follow the refund policy that is. Speaking of payment methods, renters can enjoy paying for their spaces through saved payment methods. This, of course, means that they can update or delete payment methods from their account.

**Managing Bookings and Reviews**

When it comes to services provided by people to people, there is always a risk involved. However, renters can report any issues that arise with us, and can infrom their fellow renters by leaving a review. In addition, renters will be able to look at previous bookings and upcomming ones, along with being able to extend their booking, with the owner's permission, or course.

**Profile and Communication**

To best ensure safety and security, ParkSpace lets renters make an account. They can personalize it adding photos and a few words about themselves. More importantly, renters' accounts will serve as their way to communicate with the owner about the rented space, along with reminders about bockings and payment alerts, all of which can be altered to their preference.

#### Owner

**Listing and Managing Parking Spaces**

ParkSpace makes sure renters have as much freedom as possible for renting a space, and the same mentality is applied to owners. Owners can decide their own prices, their availablity, add rules regarding the space, and provide bonuses like photos and amenities to better sell their spot. And if they ever change their mind, they can update existing spaces, or delete it entirely.

**Managing Bookings and Earnings**

With an account, owners are able to see and manage all their parking spaces, their earnings, and recieve notifications regarding their space. In addition, owners can update their banking information and can accept or decline incoming book requests. And just like renters, owners are free to change their account information whenever they wish.

#### Admin

**User and Content Management**

While we at ParkSpace hope that all transactions run smoothly, we understand that problems can, and will, arise, which is why we have administrators at the ready. These adinistrators will monitor all user accounts, making sure that all transactions end well. And if a transactions goes wrong, our administrators can remove any inappropriate content or reviews, or, if worst comes to pass, suspend or ban accounts.

**Payments and Analytics**

Administrators also have a responsiblity to handle the money side of ParkSpace. Specifically, they will manage all transactions, issuing refunds or platform fees if needed. They will also monitor the perfomances of the site, along with all the financial reports and usage metrics.

**Platform Settings and Policies**

Administrators are also in charge of the more legal topics of ParkSpace, such as updating our privacy policy, terms and conditions, and will send notifications to all users when needed.

#### 4. All Users

**General Features**

As mentioned before, all users will need an account to experience all that ParkSpace can offer. This means that their accounts will be protected, and that any user can reset their password, delete their account, manage their notifications, view the websites policies, and if any confusion arises, seek help at our help center.

### Unique Features

To stand out from our competitors, ParkSpace has a variety of features that are do not exist, or are very limited, in other services. ParkSpace offers
direct messaging between the renter and the owner so that they have the option to discuss in more deatail about the arrangement. And of course, ParkSpace also has the necessary tools to ensure that these messages do not turn violent or problematic, such as have a report feature. ParkSpace also offers flexible scheduling for owners, and by extension, renters. Owners can set their availability to any time, any day of the week. Moreover, they have the opportunity to change their schedule, assuming it does not interfere with existing arrangements. This also means that renters are free to claim a sport for as long as they wish, assuming the space is available. And if any vehicle related problems occur, such as a flat tire, ParkSpace lets renters request assitance and call some service providers like Allstate. Finally, ParkSpace offers a discount to college students, as they are the group that stand to gain the most out of this service.

### Delpoyment URL

`http://52.52.40.129:3000/`

---

## Usability Test Plan

### Test Functions

The following five major functions were selected from our superior features for usability testing:

1. **Listing a Space**

### Test Objectives

The goal is to guage the difficult of listing a space. Specifcally, we want to ask the following questions: Can the user navigate to through all steps for listing a space? If so, did the user struggle in any parts? Did they find any parts annoying to traverse? If the user could not finish listing a space, what stopped them? These questions will be answered through the responses of the Likert Questionaire along with the thoughts of the user as they complete this feature.

### Test Description

_**System Setup**_

- The test is conducted on the deployed production version of ParkSpace: <http://52.52.40.129:3000/>
- Supported browsers: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- User: driver

_**Instructions**_

The User will start at the home page. They will already be signed in as a owner, since registration and login are not being tested here, and they will already have an image of a parking spot at the ready since the goal of this test is to see how the well the user manages the site, not the act of actually listing a space. They will be told to List a Space on the website, and when they reach the step to add an image, they will be told to use the provided image. They will also be told to say their thoughts out loud, especially if a problem arises. They will not recieve and further instructions during the test, and the timer will stop when they reach "successful listing" page.

2. **Booking a Space**

### Test Objectives

Like the test with listing a space, the goal of this test is to see if the user can successfully, and easily, book a space. However, the look of the website is especially important here, as the feeling it invokes has to be professional and secure. If the design does not invoke a sense of legitimacy, it is possible that the user could feel discouraged from putting their credit card information into the site, as it could lead to a scam or worse. A such, the questions we want answered this time around are the following: Does the user feel that booking is secure? If not, what makes the user distrust the site? Is there any hesitation when clicking pay? Or does the user pay no mind?

### Test Description

_**System Setup**_

- The test is conducted on the deployed production version of ParkSpace: <http://52.52.40.129:3000/>
- Supported browsers: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- User: student

_**Instructions:**_

The User starts at the home page, already signed in as a renter. There will be three spots already provided, as a user would normally see multiple listings. They are instructed to try to book a space, and to say their thoughts out loud as they are traversing the site. The timer will end when they pay for the booking.

3. **Submitting a Support Ticket**

### Test Objectives

Erros are bound to occur on the website, which is why suppport tickets need to be an easy and intuitive experience. The goal of this testing is to see if the user runs into any trouble in making a support ticket, whether it be an error or confusion from the user.

### Test Description

_**System Setup**_

- The test is conducted on the deployed production version of ParkSpace: <http://52.52.40.129:3000/>
- Supported browsers: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- User: Commmuter

_**Instructions:**_

The user will start at the home page, with an account already provided. While the role of the account does not matter, the account given to the user will be a renter. They will be told that their was an error when booking a listing, but the website has a page to help. They will be told to think out loud while they move around the site. The timer will end when the support ticket is sent.

4. **Requesting Roadside Assistance**

### Test Objectives

Roadside Assistance will be used during emergancies, which means speed is especially important here, as failure to solve any issue related to car faliure quickly can affect later bookings of the listing. As such, it is important to see if the user can quickly finish the request, and if they can not, what can be done to make the process faster.

### Test Description

_**System Setup**_

- The test is conducted on the deployed production version of ParkSpace: <http://52.52.40.129:3000/>
- Supported browsers: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- User: Student

_**Instructions:**_

The User will start at the home page, with a renter account provided. They will be told that their vehicle broke down, so they are stuck at the parking spot they booked, and that they will need to report the failure in the site. They will also be told to share their throughts as they try to fill a roadside assistance request. The timer will end when they successful post the request.

5. **Leaving a Message**

### Test Objectives

Messaging allows renters to go further in depth with the owner of a space. This means that sending a message should be quick, and the reciever should be notifited immediately when their message arrives. In other words, we want to test whether the user can figure out how to send a message, how fast it takes for the message to arrive, and if the user can tell if they recieved a response.

### Test Description

_**System Setup**_

- The test is conducted on the deployed production version of ParkSpace: <http://52.52.40.129:3000/>
- Supported browsers: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- User: driver

_**Instructions:**_

The User will start at the home page, with an account already provided. While either role can send a message, for the sake of this test, the account will be registered as an owner. They will be told to response to a renter's message, and to share their thoughts during the test. The timere will end when the user responds to the renter's message.

---

### Effectiveness Table

| Function                | # Users Completed | % Completed | Errors | Comments                                 |
|-------------------------|-------------------|-------------|--------|------------------------------------------|
| List a Space            | 5/5               | 100%        | 0      | All users listed a space successfully    |
| Booking a Space         | 5/5               | 100%        | 0      | All users received booking confirmation  |
| Support Ticket          | 5/5               | 100%        | 0      | All users saw their ticket in history    |
| Roadside Assistance     | 4/5               | 80%         | 1      | One user missed required field           |
| Leaving a Message       | 3.5/5               | 80%        | 1      | Latency issues in transit        |

---

### Efficiency Table

| Function                | Avg. Time (mm:ss) | Avg. Clicks | Steps/Pages | Comments                        |
|-------------------------|-------------------|-------------|-------------|---------------------------------|
| List a Space            | 3:20              | 18          | 6           | Image upload took longest       |
| Booking a Space         | 2:05              | 12          | 4           | Most time spent on date select  |
| Support Ticket          | 1:15              | 7           | 2           | Simple, clear form              |
| Roadside Assistance     | 1:40              | 9           | 3           | Some confusion on location      |
| Leaving a Message       | 1:00        | 5           | 1           | Quick and straightforward       |

---

### User Satisfaction (Likert Questionnaire)

Each function was rated with 3 statements, using a scale of 1 (strongly disagree) to 10 (strongly agree).  
**Total statements: 15**

#### Listing a Space

1. Listing a Space was easy to understand.
2. The process was pretty quick.
3. The overall experience was positive.

#### Booking a Space

4. The booking process was straightforward and easy to follow.
5. Understanding the total cost and time selection was simple.
6. I felt confident that my booking was successfully completed.

#### Submitting a Support Ticket

7. It was easy to find where to go to ask for help.
8. The process of creating a support ticket was simple and clear.
9. I am confident my issue has been logged and will be addressed.

#### Requesting Roadside Assistance

10. The form for requesting assistance was easy to fill out.
11. I understood all the information that was required from me.
12. I am confident that my request was successfully sent.

#### Leaving a Review for a Booking

13. Leaving a message was an easy process.
14. The ability to leave a message is a valuable feature.
15. The overall experience of leaving a message was positive.

**Average scores (across all users):**

| Statement # | Avg. Score |
|-------------|------------|
| 1           | 7        |
| 2           | 7        |
| 3           | 8        |
| 4           | 9        |
| 5           | 9        |
| 6           | 9        |
| 7           | 8        |
| 8           | 8        |
| 9           | 8        |
| 10          | 7        |
| 11          | 6        |
| 12          | 8        |
| 13          | 9        |
| 14          | 8        |
| 15          | 7        |

---

**Note:**  
All usability tests will be performed by people not familiar with the project and who are part of our target audience. Results and feedback will be used to further refine the user experience before final release.

## QA Test Plan

1. Performance: All user actions (booking, payment, messaging) shall provide feedback or error notifications within 1 second

**Objectives**

The goal is to check the amount of time it takes for an error to appear in the following three areas: Making an account, Listing a Space, and making a request in Roadside Service. Specifically, an error should occur when an invalid information is entered when registering, listing a space, and when making a request for roadside service.

**Setup**

- SW Requirements: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop and mobile
- Process:
  - Enter an invalid email when registering to the site
  - Entering a negative price when listing a space
  - Leaving a field empty in roadside service

| Test # | Function         | Input                   | Expected Output                            | Pass/Fail |
|--------|------------------|--------------------------|---------------------------------------------|-----------|
| 1      | Get Started       | Invalid email            | Pop up that requires a valid email          | Pass      |
| 2      | List a Space      | Negative price per hour  | Pop up that requires a valid price          | Pass      |
| 3      | Roadside Service  | Leaving a field empty    | Pop up that says to fill field              | Pass      |

**Results**

All functions ran in a second or less across all supported browsers.

2. Usability: Users with minimal tech knowledge should be able to complete tasks like navigation or listing  

**Objectives**

The goal is to check if navigation the site is simple enough for users who hardly use the internet. On that note, the UI of the site shoul users can successfully navigate pages, fill out forms, and understand instructions without confusion  

**Setup**  

- SW Requirements: Chrome, Firefox, Safari, Edge (latest versions)
- Devices: Laptop or mobile
- Process:
  - Start from the home page and try to list a space or view a booking  

**3 test cases**  

| Test # | Function              | Input                     | Expected Output                           | Pass/Fail |
|--------|-----------------------|----------------------------|--------------------------------------------|-----------|
| 1      | Navigation            | Click sidebar → Dashboard | Dashboard loads without reload             | Pass      |
| 2      | Listing Form Usability| Leave hints unchecked     | Tooltip or prompt shows what’s missing     | Pass      |
| 3      | Login UX              | Wrong password            | Message: "Incorrect email or password"     | Pass      |

**Results**

The process of moving throughout the site is simple and intuitive.

3. Privacy: Only essential data should be collected and transmitted

**Objectives**

The goal is to ensure that data is protected when doing various actions in the site, such as booking, and that no one other than the user can see their information, which includes requests.

**Setup**  

- SW requirements: Chrome or Firefox (DevTools enabled)
- Devices: Laptop and mobile
- Process:
  - Book a listing to check what data is entered and returned
  - View a user's profile to check if only the user's information is shown
  - Checking if requests properly encrypt data.

**3 test cases**  

| Test # | Function            | Input               | Expected Output                            | Pass/Fail |
|--------|---------------------|---------------------|---------------------------------------------|-----------|
| 1      | Booking             | User ID only        | Only booking-related info is sent/stored    | Pass      |
| 2      | View Profile        | Logged in user      | User sees only their own info               | Pass      |
| 3      | Inspecting Request  | DevTools open       | No password or unnecessary PII shown        | Pass      |

**Results**

No unessary data is taken from the user, the correct data is presented, and all sensitive infromation is kept hidden.

4. Security: App must enforce access control and secure data input  

**Objectives**  

The goal is to make sure that users can not, in any circumstance, acces the data of other users. Furthermore, the site should not fail against simple inputs, ie writing a script to a field.

**Setup**

- SW: Any browser with JavaScript enabled
- Devices: Laptop and mobile
- Process:
  - Attempt to access another user's page
  - Test form fields with script tags  

**3 test cases**  

| Test # | Function               | Input                   | Expected Output                             | Pass/Fail |
|--------|------------------------|--------------------------|----------------------------------------------|-----------|
| 1      | Access Control         | URL to another user      | "Unauthorized" message or redirect           | Pass      |
| 2      | Input Validation       | `<script>alert(1)</script>` | Input is rejected or sanitized           | Pass      |
| 3      | Password Handling      | Incorrect password       | No info leaked, error shown                  | Pass      |

**Results**

The webiste did not break when entering a script tag, nor did the site leak anything sensitive info to other users.

5. Compatibility: System should work consistently across major browsers and screen sizes  

**Objectives**  

The goal is to ensure that all browsers show retain the same functionality and visual style of the site. In other words, Firefoxe's ParkSpace should be identical to Chrome's ParkSpace, and both should be identical to Safari's ParkSpace.

**Setup**  

- SW: Latest versions of Chrome, Firefox, Safari, and Edge on a laptop or desktop.
- Devices: Laptop and mobile
- Process:
  - Run the site on each browser
  - Use browser dev tools to simulate screen size changes (e.g., full screen, half screen, 1080p, 1440p).  

**3 test cases**  

| Test # | Function         | Input                          | Expected Output                            | Pass/Fail |
|--------|------------------|----------------------------------|---------------------------------------------|-----------|
| 1      | Login Page       | Open in Firefox browser         | Login fields appear and are functional      | Pass      |
| 2      | Dashboard View   | View in Safari at 1440x900      | Layout renders cleanly without overflow     | Pass      |
| 3      | Listing a Space  | Resize Chrome window to 50%     | Form remains readable and fields aligned    | Pass      |

**Results**

ParkSpace is consistent throughout each browser and when the screen size changes

---

## Localization Testing

### Localization Plan

If this application were to globalize, the biggest part that would need to be changed, other than the language, is the map. We would need to find popular cities in other countries so that our application would be useful to the most people. This also means that the application would need to know where the user is on the planet so that the map will automatically appear at the closest supported city. Some relatively smaller things that wil need to change are the way time is portrayed in the front end, which uses am and pm, the available amenities, as some may be nonexistent in some parts of the world, possibily all of roadside service, which may be completely different in other countries, and ensuring the proper postal code is used in the right countries. As for the language, since most information on the site is presented through text, we would need to focus on ensuring that the message stays consistent throughout each country. Also, the main color of the site may need to be tweaked depending on the country as the color purple may have different meanings depending on the culture.

### Test Cases

#### Australian English (en-AU)

| Test # | Feature | Input | Expected Output | Pass/Fail |
| :----: | :------ | :---- | :-------------- | :-------: |
|   1    | Spelling | Set user locale to `en-AU` and navigate to the "Find Parking" page. | Text should use Australian/British spelling, e.g., "colour," "centre," "licence." | Pass |
|   2    | Date Format | View a booking confirmation page. | Date should be displayed in `DD/MM/YYYY` format (e.g., 31/07/2025). | Pass |
|   3    | Currency | View the price of a parking space. | Price should be clearly marked with "AUD" or "$AU" (e.g., AUD $25.00). | Fail |
|   4    | Terminology | View the main search page and space details. | Common terms should match local usage. For example, "parking lot" should be presented as "car park." | Fail |
|   5    | Tone & Connotation | Read button text and success messages (e.g., "Book Now," "You're all set!"). | The friendly and slightly informal tone should feel natural and not like an awkward Americanism. | Pass |

#### Welsh English (en-GB / cy-GB)

| Test # | Feature | Input | Expected Output | Pass/Fail |
| :----: | :------ | :---- | :-------------- | :-------: |
|   1    | Spelling | Set user locale to `en-GB` and navigate to the "Support Ticket" page. | Text should use British spelling, e.g., "organise," "centre." | Pass |
|   2    | Date Format | View booking history. | Date should be displayed in `DD/MM/YYYY` format. | Pass |
|   3    | Currency | View the price of a parking space. | Price should be displayed with the Pound Sterling symbol (£), e.g., £20.00. | Fail |
|   4    | Contextual Terms | View the booking form where vehicle details are required. | The term "license plate" should be replaced with the more common British term "number plate" or "registration." | Fail |
|   5    | Instructional Clarity | Read the instructions for leaving a review. | The instructions should be clear and use phrasing common in British English, avoiding any US-specific idioms. | Pass |

#### "Castellano" ie Spain Spanish (es-ES)

| Test # | Feature | Input | Expected Output | Pass/Fail |
| :----: | :------ | :---- | :-------------- | :-------: |
|   1    | Spelling | Set user locale to `es-ES` and navigate to the "List a Space" page. | Text should use Castellano spelling, e.g., "vosotros" instead of "ustedes" | Pass |
|   2    | Date Format | View availability page. | Date should be displayed in `DD/MM/YYYY` format. | Pass |
|   3    | Currency | View the price of a parking space. | Price should be displayed with the Euro (€), e.g., €20.00. | Fail |
|   4    | Contextual Terms | View the basic information page form where space details are required. | The term "driveway" should be replaced with the more common Spanish term "entrada" or "calzada" | Pass |
|   5    | Instructional Clarity | Read the instructions for amenities and detials. | The instructions should be clear and use phrasing common in Spanish, avoiding any US-specific idioms. | Pass |

### Results

The localization testing revealed that while our foundational localization is on the right track, we lack the deep contextual adaptation required for a truly global product.

**Successes:**

- Basic spelling and date formats were correctly adapted for both locales.
- The general tone of the application was found to be appropriate and did not cause any negative cultural connotations in either test case.

**Failures:**

- **Currency:** This remains a critical failure. The system did not adapt the currency symbol or code (e.g., to AUD or £), which would cause significant confusion for users.
- **Terminology:** The application failed to switch from American English terms to their regional equivalents (e.g., "parking lot" vs. "car park," "license plate" vs. "number plate"). This indicates that our translation process is too literal and does not account for regional vocabulary differences.

These results show that we need to move beyond simple string replacement and implement a more sophisticated localization strategy that includes a glossary of regional terms and proper internationalization (i18n) support for data formats like currency.

---

## Code Review

### Coding Standards

Our team adheres to a strict set of coding standards to ensure code quality, readability, and maintainability across the project. These standards are enforced through a combination of automated tooling and manual peer review.

**General Standards:**

- **Indentation:** All source files use 4 spaces for indentation.
- **Encoding:** All source files are encoded in UTF-8.
- **File Naming:** File names are in `kebab-case` for frontend components and `snake_case` for Python modules, where applicable.
- **Commit Messages:** All commit messages must follow the [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) standard (e.g., `feat:`, `fix:`, `docs:`, `style:`, `refactor:`, `test:`, `chore:`).

**Backend (Python/Django):**

- **Style Guide:** We follow the **PEP 8** style guide for all Python code.
- **Linting & Formatting:** Code is automatically linted with `flake8` and formatted with `black` to ensure consistency.
- **Naming Conventions:**
  - Modules: `snake_case`
  - Classes: `PascalCase`
  - Functions & Variables: `snake_case`
- **Docstrings:** All public modules, classes, and functions include docstrings explaining their purpose, arguments, and return values.

**Frontend (TypeScript/React):**

- **Style Guide:** We follow the Airbnb JavaScript Style Guide.
- **Linting & Formatting:** Code is automatically linted with `ESLint` and formatted with `Prettier`.
- **Naming Conventions:**
  - Components: `PascalCase` (e.g., `ChatBox.tsx`)
  - Hooks: `camelCase` with a `use` prefix (e.g., `useAPI.tsx`)
  - Variables & Functions: `camelCase`
- **Component Structure:** Components are kept small and focused on a single responsibility. State management is handled by React hooks (`useState`, `useContext`, `useReducer`) and custom hooks for reusable logic.

### Internal Review

Our internal review process is centered around GitHub Pull Requests (PRs) to ensure that every line of code is reviewed by at least one other team member before being merged into the `main` branch. This process is crucial for catching bugs, improving code quality, and sharing knowledge across the team.

**Our Process:**

1. A developer creates a new feature branch from the `main` branch.
2. After completing the feature and testing it locally, the developer opens a Pull Request.
3. The PR title and description clearly explain the changes and their purpose.
4. At least one other developer is assigned as a reviewer.
5. The reviewer examines the code for correctness, adherence to coding standards, and potential improvements.
6. Feedback is provided through comments and suggestions directly on the PR.
7. The original developer addresses the feedback and pushes updates to the branch.
8. Once all comments are resolved and the reviewer approves the changes, the PR is merged into `main`.

**Example of Internal Review:**

- **Pull Request Example:**
![FeedBackRequestChanges](../../images/PR.png)

- **Requesting Changes Before Mergeing:**
![FeedBackRequestChanges](../../images/InternalCodeRev.png)

- **Resolving Conflicts Before Mergeing:**
![ResolveConflict](../../images/ResolveConflict.png)

- **Resolving Conflicts Before Mergeing:**
![ResolveConflict](../../images/ResolveConflict.png)

### External Review

### External Code Review

As part of Milestone 4, our team participated in an external code review by reviewing another team's codebase via email. We provided constructive feedback on their implementation, code structure, and adherence to best practices. Screenshots of our review comments and the resulting collaboration were attached as evidence.

- **External Code Review P1:**
![External Code Review P1](../../images/CodeReview1.png)

- **External Code Review P2:**
![External Code Review P2](../../images/CodeReview2.png)

---

## Security Practices

### Major Assets

    - Renter's card information (if they choose to use their debit or credit card)
    - Owner's bank account information
    - All user's passwords

### Password Encryption

The application uses Django's robust, built in security framework for password management. All user passwords are required to be hashed and salted before being stored in the database, ensuring they are never saved in plaintext. The primary hashing algorithm configured for the project is **Argon2**, as specified in the `PASSWORD_HASHERS` setting. Argon2 is a modern, key-stretching algorithm that is highly resistant to both brute force and rainbow table attacks, providing a very high level of security for user credentials.

### Input Validation

Input validation is strictly enforced at the backend to prevent common web vulnerabilities. The application utilizes Django REST Framework (DRF) serializers, which automatically validate incoming data against the defined model fields (e.g., checking data types, max lengths, and field constraints). This serves as the first line of defense against malformed data.

Furthermore, custom validation logic is implemented within the serializers and API views to enforce business rules, such as ensuring prices are positive numbers, validating email formats, and checking that all required fields for an operation are present. This multi-layered validation strategy effectively mitigates risks such as SQL Injection, Cross-Site Scripting (XSS), and other data driven attacks by Making sure all data is sanitized and conforms to expected formats before being processed.

---

## Adherence to Non-functional Specs

**1. Performance**

1.1 The system shall support at least 5,000 concurrent users without noticeable performance degradation. DONE

1.2 Page load times for all main user flows (search, booking, dashboard) shall not exceed 3 seconds under typical North American network conditions (25 Mbps download, 3 Mbps upload, <100ms latency). DONE

1.3 Search for parking space availability shall return results within 2 seconds for up to 10,000 listings. DONE

1.4 All user actions (booking, payment, messaging) shall provide feedback or error notifications within 1 second. DONE

**2. Reliability**  

2.1 All booking, cancellation, and payment transactions shall be atomic and consistent to prevent double booking, orphaned payments, or data loss. DONE

2.2 The system shall maintain an uptime of at least 99.5% per calendar month, excluding scheduled maintenance. DONE

2.3 Daily automated backups shall be performed for all critical data, backups shall be retained for a minimum of 30 days. DONE

2.4 Disaster recovery procedures shall ensure system restoration within 6 hours of a major outage. DONE

**3. Security**  

3.1 All sensitive user data including payment details, personally identifiable information, and messages shall be encrypted in transit using TLS 1.2+ and at rest using AES-256 or stronger. DONE

3.2 The system shall implement Role Based Access Control (RBAC) to enforce separation of permissions between renters, owners, and admins. DONE

3.3 All payment processing shall comply with PCI DSS requirements. DONE

3.4 Passwords shall be hashed and salted using a secure, modern algorithm (argon2). DONE

3.5 The system shall enforce multi-factor authentication (MFA) for all admin accounts. IN-PROGRESS

**4. Privacy**

4.1 Users shall be able to view, edit, or delete their personal data and payment methods at any time via the platform interface. DONE

4.2 User data, including message logs, booking history, and payment records, shall only be accessible to the account holder and authorized platform staff. DONE

4.3 No user data shall be shared with third parties except as required for payment processing or legal compliance. DONE

4.4 Data retention policies shall be transparent and compliant with GDPR, CCPA, and relevant privacy laws, deleted data shall be purged from backups within 30 days. DONE

**5. Usability & Accessibility**

5.1 The user interface shall conform to WCAG 2.1 Level AA accessibility standards, ensuring support for screen readers, keyboard navigation, and sufficient color contrast. DONE-ISH

5.2 The platform shall provide a responsive design for seamless use on desktop, tablet, and mobile devices, with user interface elements scaling appropriately. DONE-ISH

5.3 All primary user flows (searching, booking, messaging, payment, support) shall be achievable with no more than five clicks from the homepage. DONE

5.4 Contextual help, onboarding and tutorials shall be provided for first time users and complex features. NOT DONE

5.5 All accessible parking spaces must be clearly marked as such in listings, and filtering by accessibility must be supported. DONE

**6. Look and Feel**

6.1 The application shall adhere to a consistent visual style, all UI components shall be built with Tailwind CSS and Headless UI, styled and structured according to an in house design guide inspired by Material Design principles. DONE

6.2 The color palette, font, and layout shall remain consistent across all pages and devices. DONE

6.3 Brand assets (logo, primary colors, fonts) shall be documented and used as specified in the project’s style guide. DONE

**7. Maintainability**

7.1 The team shall use 4 spaces for indentation and UTF-8 encoding for all source files. DONE

7.2 Pull requests must pass automated style and lint checks (PEP8 for Python, ESLint for JavaScript). DONE

7.3 All changes must undergo peer review and approval by at least one other developer prior to merge. DONE

7.4 Commit messages shall follow the Conventional Commits standard. DONE

**8. Portability**

8.1 The admin web interface shall be deployable on Windows 10+, macOS 12+, and Ubuntu Linux 20.04+. DONE

8.2 The renter and owner interfaces shall be compatible with the latest two major versions of iOS (Safari, Chrome) and Android (Chrome, Firefox) browsers. DONE

8.3 The system shall be containerized (Docker) for ease of deployment across environments. DONE

**9. Scalability**

9.1 The system architecture shall support horizontal scaling at the application, web server, and database layers. DONE

9.2 Data storage and search solutions (database indexing, caching) shall maintain user facing performance as the dataset grows by 10x. DONE

9.3 The messaging, notification, and support ticket subsystems shall be able to handle bursts of up to 2,000 events/minute. DONE

**11. Compatibility**

11.1 The platform shall support at least the two most recent major releases of Chrome, Firefox, Safari, and Edge browsers. DONE

11.2 The system shall integrate with at least two major third party payment gateways (e.g., Stripe, PayPal) and Google Maps API, with clear versioning and upgrade paths. DONE

11.3 Browser and OS support details shall be published in the system documentation for end users and admins. DONE

**12. Compliance**

12.1 The platform shall comply with GDPR, CCPA, and any other applicable local or federal data protection laws. DONE

12.2 Accessibility, anti discrimination, and consumer protection legislation shall be followed in all markets where the platform is available. DONE

12.3 All required user agreements, privacy policies, and terms of service shall be visible and accessible on the platform. NOT DONE

**13. Supportability**

13.1 The system shall provide real-time alerts for major system failures, booking/payment errors, and performance degradation to the admin dashboard and support teams. DONE

13.2 Support teams shall have secure access to diagnostic logs, anonymized user activity reports, and system health metrics. DONE

13.3 Support shall be available via email messaging during posted business hours (9am-6pm PT, M-F). DONE

13.4 An incident management plan, including escalation procedures and regular review, shall be maintained and tested quarterly. DONE

13.5 The system shall be supported by Safari browser version 11.1.1 and later, Chrome 90+, Firefox 90+, Edge 90+, iOS 15+, and Android 11+. DONE

---

## List of Team Contributions

| Team Member |                       Contributions                           |
| ----------  | ------------------------------------------------------------- |
| Nathaniel  8 |  PaymentMethodViewSet and PaymentViewSet endpoints & debugging for related files + documentation                                                             |
| El Juliana 4 | _Assighned ReviewViewSet endpoints and related files + documentation_                                                              |
| Krishna  8   |  SupportTicketViewSet and ServiceRequestViewSet endpoints and related files                                                            |
| Juan    10    |   ParkingSpaceViewSet and BookingViewSet endpoints and related files + documentation + SCRUM                                                            |
| Stella   10   |  NotificationViewSet and MessageViewSet endpoints and related files + documentation                                                             |
| Fatma     4  |  _Assighned AdminActionViewSet endpoints and related files + documentation_                                                              |

---

## Final List of Contributions

| Team Member |                       Contributions                           |
| ----------  | ------------------------------------------------------------- |
| Nathaniel   |   earnings char/localization/paymmentmethos/                                                            |
| El Juliana  |   Google maps/service request/reviews/                                                            |
| Krishna     |  support/privacy/styling/support-tickets/service-request                                                             |
| Juan        |  SCRUM/booking/bookings/M4/M5 [a lot] /space listing                                                            |
| Stella      |   websocket/chat/service request/reviews/M4/M5 markdown/revisions/backend/REST/docker/suport ticket/routers/consumers                                                            |
| Fatma       |     admin                                                          |

## Lessons Learned

Nathaniel: Looking back at everything we have done, I can say this was definitely one of the best groups I have ever been a part of. I feel that the only challenges we faced were communicating with each other, as we started off strong in the beginning. But it slowly started dying, and this caused people to be overworked and some people to not contribute enough as well in some milestones. I think at the end of the day we still worked hard as a team and had a really good project and website/company done.

Juan: The biggest challenge that we faced was communication. While we did a good job communicating in the beginning, by the end it became hard to reach certain people. Moreover, some people did not talk about the issues they faced until the last minute. If I were to go back in time and do it again, I think having everyone start working on the coding side of things sooner would have been more useful, as it would have allowed everyone to get a better feel for the coding environment. While I did understand the coding language, I was held back by my lack of experience, which I assume is the same for others. Working on the code sooner may have allowed people to go through the growing pains earlier, and hopefully they would have become more comfortable by the end of it.

Juliana: The main challenge is communication and task responsibility. I think that in the beginning, the team was assigning responsibilities to the person who is the most skilled in that area. This created a system that the person who is the most skilled is doing the most of the coding task. This created a pressure on that person or people to do all these tasks. It impacts the person or people doing the tasks negatively as the weight falls upon them. Task responsibility should have been assigned equally based on skill level as well. People who have no experience using a specific type of technology should not just not do anything in that area, but also responsibilities assigned to them shouldn’t be high-level or difficult. Those people are navigating those technologies. Expectations from each other in the beginning of the task is helpful in navigating challenges like that.

Fatma:Looking back at this group project, I am grateful to have been a part of this group. We had an excellent knowledgeable and skilled team lead who was always willing to help out and answer any questions we had. The one thing that could have been better is to split up the work more evenly. I know some people took on more work than others.

Stella: The biggest issue is participation, and the fact that SFSU does not teach Python in CSC 215, 220, 230, and MATH 324 side by side with Java and R. Why wait until the upper division to teach a widely used language, especially now, in the AI bubble where a pretty big chunk of the jobs are Python heavy. Another issue is the lack of urgency in the first ¾ of the semester by some of the team members. If everyone had a similar amount of energy from the get-go then a lot of issues could have been avoided. I was unaware that any of this could even become an issue when the semester began. I would do a lot differently next time. For a summer class, I’d cut the website functions down to about half as much, stick to some kind of email link system for messaging, go outside, and stop caring about what users want out of a product that doesn’t exist. I’d also ask earlier on about changing the permissions on the discord bot so that team leads can create events and reminders. Another thing I would do differently next time is pester everyone relentlessly on their progress/issues (in a nice way). There are not enough questions being asked until the very last minute or after a PR has been submitted. I want to help people but I don’t want to debug for other people when they submit a broken PR. All that being said, I have seen significant growth in most team members. I’m happy to have been a part of this team. It was a positive learning exierience.

Krishna: Our biggest challenge was communication, I remember in the beginning it was really strong but as time went on it became less. This is a very productive group if not the best one I’ve been part of. I think we delivered a solid product and executed a good idea. During an approaching deadline I feel the group was able to work well under pressure which is beneficial and needed in a job. With communication I could have asked for more help with tasks.
